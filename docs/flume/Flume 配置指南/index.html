<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-flume/Flume 配置指南">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Flume 配置指南 | Panda Home</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://magicpenta.github.io/docs/flume/Flume 配置指南"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Flume 配置指南 | Panda Home"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://magicpenta.github.io/docs/flume/Flume 配置指南"><link data-rh="true" rel="alternate" href="https://magicpenta.github.io/docs/flume/Flume 配置指南" hreflang="en"><link data-rh="true" rel="alternate" href="https://magicpenta.github.io/docs/flume/Flume 配置指南" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Panda Home RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Panda Home Atom Feed"><link rel="stylesheet" href="/assets/css/styles.05fef033.css">
<link rel="preload" href="/assets/js/runtime~main.e2f7f3df.js" as="script">
<link rel="preload" href="/assets/js/main.4ed9c8f6.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Panda Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Panda Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Panda Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/about">About</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/docs/">Spark</a><button aria-label="Toggle the collapsible sidebar category &#x27;Spark&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spark/Spark 快速入门">Spark 快速入门</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spark/Spark 集群部署">Spark 集群部署</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spark/Spark 应用提交">Spark 应用提交</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spark/Spark RDD">Spark RDD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spark/Spark 共享变量">Spark 共享变量</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spark/Spark 任务调度">Spark 任务调度</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spark/Spark Shuffle">Spark Shuffle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spark/Spark Streaming 入门指南">Spark Streaming 入门指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spark/Spark Streaming 集成 Kafka">Spark Streaming 集成 Kafka</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/docs/flink/">Flink</a><button aria-label="Toggle the collapsible sidebar category &#x27;Flink&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/flink/Flink 快速入门">Flink 快速入门</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/flink/Flink 工作流程剖析">Flink 工作流程剖析</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/flink/Flink DataStream API">Flink DataStream API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/flink/Flink Window">Flink Window</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/flink/Flink Watermark">Flink Watermark</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/flink/Flink 状态管理">Flink 状态管理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/flink/Flink 容错机制">Flink 容错机制</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/docs/clickhouse/">ClickHouse</a><button aria-label="Toggle the collapsible sidebar category &#x27;ClickHouse&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/clickhouse/ClickHouse 安装与启动">ClickHouse 安装与启动</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/clickhouse/ClickHouse JDBC">ClickHouse JDBC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/clickhouse/ClickHouse 数据类型">ClickHouse 数据类型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/clickhouse/ClickHouse 表引擎">ClickHouse 表引擎</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/clickhouse/ClickHouse SQL">ClickHouse SQL</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/flume/">Flume</a><button aria-label="Toggle the collapsible sidebar category &#x27;Flume&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/flume/Flume 集群部署（Docker）">Flume 集群部署（Docker）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/flume/Flume 配置指南">Flume 配置指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/flume/Flume 负载均衡选择器">Flume 负载均衡选择器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/flume/Flume ElasticSearch Sink">Flume ElasticSearch Sink（异步）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/flume/Flume 自定义监控">Flume 自定义监控</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/docs/spider/">Java 爬虫</a><button aria-label="Toggle the collapsible sidebar category &#x27;Java 爬虫&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spider/使用 HttpClient 实现页面源码下载">使用 HttpClient 实现页面源码下载</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spider/页面解析详细指南">页面解析详细指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spider/基于 HtmlParser 实现网页链接提取">基于 HtmlParser 实现网页链接提取</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/spider/一个简易 Java 爬虫程序的实现">一个简易 Java 爬虫程序的实现</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/flume/"><span itemprop="name">Flume</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Flume 配置指南</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Flume 配置指南</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">​</a></h2><p>本指南为 Flume 配置指南，基于 <a href="http://flume.apache.org/releases/content/1.9.0/FlumeUserGuide.html" target="_blank" rel="noopener noreferrer">官方用户指南</a> 编撰而成。</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>下文中，所有必填配置项都会以 <strong>加粗</strong> 字体标记。</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="source">Source<a class="hash-link" href="#source" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="thrift-source">Thrift Source<a class="hash-link" href="#thrift-source" title="Direct link to heading">​</a></h3><p>Thrift Source 用于监听 Thrift 协议端口并接收外部 Thrift 客户端发送的数据。</p><table><thead><tr><th><strong>配置项</strong></th><th><strong>默认值</strong></th><th><strong>配置说明</strong></th></tr></thead><tbody><tr><td>⭐ <strong>type</strong></td><td>-</td><td>Thrift Source 组件类型，必须为 <code>thrift</code></td></tr><tr><td>⭐ <strong>channels</strong></td><td>-</td><td>Thrift Source 连接的隧道，多个隧道以 <code>,</code> 隔开</td></tr><tr><td>⭐ <strong>bind</strong></td><td>-</td><td>Thrift Source 监听的主机名或 IP 地址</td></tr><tr><td>⭐ <strong>port</strong></td><td>-</td><td>Thrift Source 绑定的端口</td></tr><tr><td>⭐ <strong>threads</strong></td><td>-</td><td>Thrift Source 最大工作线程数</td></tr></tbody></table><p>使用示例：</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">thrift</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.channels</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">c0 c1 c2 c3 c4 c5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.bind</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">0.0.0.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.port</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">4141</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.threads</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">1000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>Thrift Source 的 threads 必须配置，否则会因为一直创建线程导致内存溢出。</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="avro-source">Avro Source<a class="hash-link" href="#avro-source" title="Direct link to heading">​</a></h3><p>Avro Source 用于监听 Avro 协议端口并接收外部 Avro 客户端发送的数据。</p><table><thead><tr><th><strong>配置项</strong></th><th><strong>默认值</strong></th><th><strong>配置说明</strong></th></tr></thead><tbody><tr><td>⭐ <strong>type</strong></td><td>-</td><td>Avro Source 组件类型，必须为 <code>avro</code></td></tr><tr><td>⭐ <strong>channels</strong></td><td>-</td><td>Avro Source 连接的隧道，多个隧道以 <code>,</code> 隔开</td></tr><tr><td>⭐ <strong>bind</strong></td><td>-</td><td>Avro Source 绑定的主机名或 IP 地址</td></tr><tr><td>⭐ <strong>port</strong></td><td>-</td><td>Avro Source 监听的端口</td></tr><tr><td>threads</td><td>-</td><td>Avro Source 最大工作线程数</td></tr><tr><td>compression-type</td><td>none</td><td>压缩类型，有 <code>none</code> 和 <code>deflate</code> 两种取值</td></tr></tbody></table><p>使用示例：</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">avro</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.channels</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">c0 c1 c2 c3 c4 c5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.bind</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">0.0.0.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.port</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">4545</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.threads</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">200</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.compression-type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">deflate</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>Avro Source 的 <code>compression-type</code> 需要与客户端保持一致。</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kafka-source">Kafka Source<a class="hash-link" href="#kafka-source" title="Direct link to heading">​</a></h3><p>Kafka Source 本质上是 Kafka 消费者，用于从 Kafka Topic 中读取数据流。</p><table><thead><tr><th><strong>配置项</strong></th><th><strong>默认值</strong></th><th><strong>配置说明</strong></th></tr></thead><tbody><tr><td>⭐ <strong>type</strong></td><td>-</td><td>Kafka Source 组件类型，必须为 <code>org.apache.flume.source.kafka.KafkaSource</code></td></tr><tr><td>⭐ <strong>channels</strong></td><td>-</td><td>Kafka Source 连接的隧道，多个隧道以 <code>,</code> 隔开</td></tr><tr><td>batchSize</td><td>1000</td><td>单批次写入 channel 的最大事件数</td></tr><tr><td>batchDurationMillis</td><td>1000</td><td>单批次写入 channel 的最大时间间隔，单位为 <code>ms</code></td></tr><tr><td>⭐ <strong>kafka.bootstrap.servers</strong></td><td>-</td><td>Kafka 集群的 broker 地址</td></tr><tr><td>⭐ <strong>kafka.topics</strong></td><td>-</td><td>消费的 topic 列表，多个以 <code>,</code> 隔开</td></tr><tr><td>⭐ <strong>kafka.topics.regex</strong></td><td>-</td><td>消费的 topic 列表，支持正则表达式</td></tr><tr><td>kafka.consumer.group.id</td><td>flume</td><td>消费者组名</td></tr><tr><td>kafka.consumer.auto.offset.reset</td><td>latest</td><td>消费者消费位移，<code>latest</code> 为最新，<code>earliest</code> 为最旧</td></tr><tr><td>kafka.consumer.session.timeout.ms</td><td>10000</td><td>消费者会话超时时间，可搭配 <code>heartbeat.interval.ms</code> 使用，避免频繁的 rebalance</td></tr><tr><td>kafka.consumer.request.timeout.ms</td><td>30000</td><td>消费者超时时间</td></tr><tr><td>kafka.consumer.metadata.max.age.ms</td><td>300000</td><td>消费者元数据更新时间，与新建 topic 触发的重均衡相关，若设置过大，会影响新建 topic 的实时性</td></tr><tr><td>setTopicHeader</td><td>true</td><td>是否将 topic 名称放入 header 中指定的键值对</td></tr><tr><td>topicHeader</td><td>topic</td><td>header 中用于存放 topic 名称的 key</td></tr></tbody></table><p>使用示例：</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">org.apache.flume.source.kafka.KafkaSource</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.channels</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">c1 c2 c3 c4 c5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.batchSize</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">1000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.batchDurationMillis</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">2000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.kafka.bootstrap.servers</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">master:9092,slave1:9092,slave2:9092</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.kafka.topics.regex</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">^panda_.*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.kafka.consumer.group.id</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">default_group</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.kafka.consumer.auto.offset.reset</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">latest</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.kafka.consumer.session.timeout.ms</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">120000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="spooling-directory-source">Spooling Directory Source<a class="hash-link" href="#spooling-directory-source" title="Direct link to heading">​</a></h3><p>Spooling Directory Source 会监听文件系统中指定的路径，并实时从该路径读取数据文件。</p><table><thead><tr><th><strong>配置项</strong></th><th><strong>默认值</strong></th><th><strong>配置说明</strong></th></tr></thead><tbody><tr><td>⭐ <strong>type</strong></td><td>-</td><td>Spooldir Source 组件类型，必须为 <code>spooldir</code></td></tr><tr><td>⭐ <strong>channels</strong></td><td>-</td><td>Spooldir Source 连接的隧道，多个隧道以 <code>,</code> 隔开</td></tr><tr><td>⭐ <strong>spoolDir</strong></td><td>-</td><td>读取文件的根目录</td></tr><tr><td>deletePolicy</td><td>never</td><td>删除策略，有 <code>never</code> 和 <code>immediate</code> 两种取值</td></tr><tr><td>basenameHeader</td><td>false</td><td>是否追加文件名到 header 中</td></tr><tr><td>basenameHeaderKey</td><td>basename</td><td>header 中用于存放文件名的 key</td></tr><tr><td>includePattern</td><td>^.<!-- -->*<!-- -->$</td><td>被包含文件所匹配的正则表达式，优先级低于 ignorePattern</td></tr><tr><td>ignorePattern</td><td>^$</td><td>被过滤文件所匹配的正则表达式</td></tr><tr><td>pollDelay</td><td>500</td><td>文件扫描线程池的延时时间，单位为 <code>ms</code></td></tr><tr><td>batchSize</td><td>100</td><td>单批次写入 channel 的最大事件数</td></tr><tr><td>recursiveDirectorySearch</td><td>false</td><td>是否读取子目录下的文件</td></tr><tr><td>maxBackoff</td><td>4000</td><td>写入 Channel 失败与重新写入之间的最大休眠时间</td></tr><tr><td>deserializer.maxLineLength</td><td>2048</td><td>序列化器规定的每行最大字节数，多出的部分会被截断</td></tr></tbody></table><p>使用示例：</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">spooldir</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.channels</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">c1 c2 c3 c4 c5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.spoolDir</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">/spoolDir</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.deletePolicy</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">immediate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.basenameHeader</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.basenameHeaderKey</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">base_name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.includePattern</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">^.*$</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.ignorePattern</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">\.*tmp$</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.pollDelay</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">500</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.batchSize</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">1000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.recursiveDirectorySearch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.maxBackoff</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">4000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.deserializer.maxLineLength</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">1000000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="selector">Selector<a class="hash-link" href="#selector" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="replicating-selector">Replicating Selector<a class="hash-link" href="#replicating-selector" title="Direct link to heading">​</a></h3><p>Replicating Selector 为复制流选择器，也是 Flume 中的默认选择器，<strong>无需显示配置</strong>。</p><p>假设有个 source 连接了 5 条隧道，如：</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.channels</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">c1 c2 c3 c4 c5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>那么 Replicating Selector 会将数据复制 5 份均分到 5 条隧道中。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="multiplexing-selector">Multiplexing Selector<a class="hash-link" href="#multiplexing-selector" title="Direct link to heading">​</a></h3><p>Multiplexing Selector 为多路传输选择器，支持通过指定的 header 选择数据传输隧道。</p><table><thead><tr><th><strong>配置项</strong></th><th><strong>默认值</strong></th><th><strong>配置说明</strong></th></tr></thead><tbody><tr><td>selector.type</td><td>replicating</td><td>Selector 组件类型，必须为 <code>multiplexing</code></td></tr><tr><td>selector.header</td><td>flume.selector.header</td><td>用于隧道分流的 header</td></tr><tr><td>selector.mapping.<!-- -->*</td><td>-</td><td>用于设置 header 中对应 value 与 channel 的映射关系，若一个 mapping 中包含多个传输隧道，多个隧道间以空格隔开</td></tr><tr><td>selector.default</td><td>-</td><td>选择器默认隧道</td></tr></tbody></table><p>使用示例：</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.selector.type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">multiplexing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.selector.header</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">topic</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.selector.mapping.panda</span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">c1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.selector.mapping.sue</span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">c1 c2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sources.r1.selector.default</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">c2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="channel">Channel<a class="hash-link" href="#channel" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="file-channel">File Channel<a class="hash-link" href="#file-channel" title="Direct link to heading">​</a></h3><p>File Channel 是基于文件系统的传输隧道，传输速度较慢，但是具备完善的检查点机制，<strong>可以保证数据不丢失</strong>。</p><table><thead><tr><th><strong>配置项</strong></th><th><strong>默认值</strong></th><th><strong>配置说明</strong></th></tr></thead><tbody><tr><td>⭐ <strong>type</strong></td><td>-</td><td>File Channel 组件类型，必须为 <code>file</code></td></tr><tr><td>dataDirs</td><td>~/.flume/file-channel/data</td><td>数据存储目录</td></tr><tr><td>checkpointDir</td><td>~/.flume/file-channel/checkpoint</td><td>checkpoint 存储目录</td></tr><tr><td>useDualCheckpoints</td><td>false</td><td>是否备份 checkpoint，若备份，必须设置 backupCheckpointDir</td></tr><tr><td>backupCheckpointDir</td><td>-</td><td>checkpoint 备份目录，不得与 checkpoint 存储目录相同</td></tr><tr><td>capacity</td><td>1000000</td><td>channel 的最大容量</td></tr><tr><td>transactionCapacity</td><td>10000</td><td>事务的最大容量</td></tr><tr><td>maxFileSize</td><td>2146435071</td><td>单个日志文件的最大大小，单位为 <code>byte</code></td></tr><tr><td>checkpointInterval</td><td>30000</td><td>checkpoint 检查时间间隔，单位为 <code>ms</code></td></tr></tbody></table><p>使用示例：</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key attr-name" style="color:#00a4db">agent.channels.c1.type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.channels.c1.dataDirs</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">/data/agent/flume-data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.channels.c1.useDualCheckpoints</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.channels.c1.checkpointDir</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">/data/agent/flume-checkpoint1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.channels.c1.backupCheckpointDir</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">/data/agent/flume-checkpoint2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.channels.c1.capacity</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">2500000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.channels.c1.transactionCapacity</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">5000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.channels.c1.maxFileSize</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">524288000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.channels.c1.checkpointInterval</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">10000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>Source 的 batchSize 需要小于 transactionCapacity，否则数据在批量进入 channel 时会抛出异常。</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="memory-channel">Memory Channel<a class="hash-link" href="#memory-channel" title="Direct link to heading">​</a></h3><p>Memory Channel 是基于内存的传输隧道，具有非常优异的传输速度，但是没有任何容错保障，通常只用于测试。</p><table><thead><tr><th><strong>配置项</strong></th><th><strong>默认值</strong></th><th><strong>配置说明</strong></th></tr></thead><tbody><tr><td>⭐ <strong>type</strong></td><td>-</td><td>Memory Channel 组件类型，必须为 <code>memory</code></td></tr><tr><td>capacity</td><td>100</td><td>channel 的最大容量</td></tr><tr><td>transactionCapacity</td><td>100</td><td>事务的最大容量</td></tr></tbody></table><p>使用示例：</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key attr-name" style="color:#00a4db">agent.channels.c1.type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">memory</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.channels.c1.capacity</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">10000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.channels.c1.transactionCapacity</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">2000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sink">Sink<a class="hash-link" href="#sink" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kafka-sink">Kafka Sink<a class="hash-link" href="#kafka-sink" title="Direct link to heading">​</a></h3><p>Kafka Sink 支持将事件写入到 Kafka。</p><table><thead><tr><th><strong>配置项</strong></th><th><strong>默认值</strong></th><th><strong>配置说明</strong></th></tr></thead><tbody><tr><td>⭐ <strong>channel</strong></td><td>-</td><td>Kafka Sink 消费的 channel</td></tr><tr><td>⭐ <strong>type</strong></td><td>-</td><td>Kafka Sink 组件类型，必须为 <code>org.apache.flume.sink.kafka.KafkaSink</code></td></tr><tr><td>⭐ <strong>brokerList</strong></td><td>-</td><td>Kafka 集群的 broker 地址</td></tr><tr><td>requiredAcks</td><td>1</td><td>写入结果验证，<code>1</code> 表示只需要等待 leader 确认，<code>0</code> 表示不需要确认，<code>-1</code> 表示需要所有副本确认</td></tr><tr><td>topic</td><td>default-flume-topic</td><td>写入的 topic，可被 allowTopicOverride 覆盖</td></tr><tr><td>allowTopicOverride</td><td>true</td><td>是否允许将消息生成到由 topicHeader 指定的 topic</td></tr><tr><td>topicHeader</td><td>topic</td><td>配合 allowTopicOverride 使用，设置用于指定 topic  名称的 header</td></tr><tr><td>flumeBatchSize</td><td>100</td><td>单批次写入 Kafka 的事件数</td></tr><tr><td>kafka.producer.batch.size</td><td>16384</td><td>生产者批量发送消息的阈值，单位为 <code>byte</code></td></tr><tr><td>kafka.producer.linger.ms</td><td>0</td><td>用来指定生产者发送 ProducerBatch 之前等待更多消息（ProducerRecord）加入ProducerBatch 的时间，单位为 <code>ms</code></td></tr><tr><td>kafka.producer.max.request.size</td><td>1048576</td><td>生产者能发送的消息的最大值，单位为 <code>byte</code></td></tr><tr><td>kafka.producer.buffer.memory</td><td>33554432</td><td>生产者用于缓存消息的缓冲区大小，单位为 <code>byte</code></td></tr><tr><td>kafka.producer.compression.type</td><td>none</td><td>消息压缩方式，可选值有 <code>none</code>、<code>gzip</code>、<code>snappy</code>、<code>lz4</code></td></tr></tbody></table><p>使用示例：</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">org.apache.flume.sink.kafka.KafkaSink</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.channel</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">c1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.brokerList</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">master:9092,slave1:9092,slave2:9092</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.requiredAcks</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">-1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.allowTopicOverride</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.topicHeader</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">topic</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.kafka.producer.batch.size</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">10485760</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.kafka.producer.linger.ms</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">1000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.kafka.producer.max.request.size</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">62914560</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.kafka.producer.buffer.memory</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">671088640</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.kafka.producer.compression.type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">gzip</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.supportHeader</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.detectInvalidTopic</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>Kafka Sink 在发送完 flumeBatchSize 数量的事件后会显示调用 <code>flush()</code> 方法，<strong>因此生产者中用于控制吞吐量的 batch.size 和 linger.ms 是否生效要取决于 flumeBatchSize 的大小</strong>。若 flumeBatchSize 的相对大小较大，这两个参数可以正常生效；若 flumeBatchSize 的相对大小较小，则这两个参数还未生效前数据就已经被刷出缓存区了。</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="obs-sink">OBS Sink<a class="hash-link" href="#obs-sink" title="Direct link to heading">​</a></h3><p>OBS Sink 为华为云官方提供的 Sink 组件，支持将事件写入到华为云 OBS 中。</p><table><thead><tr><th><strong>配置项</strong></th><th><strong>默认值</strong></th><th><strong>配置说明</strong></th></tr></thead><tbody><tr><td>⭐ <strong>channel</strong></td><td>-</td><td>OBS Sink 消费的 channel</td></tr><tr><td>⭐ <strong>type</strong></td><td>-</td><td>OBS Sink 组件类型，必须为 <code>hdfs</code></td></tr><tr><td>⭐ <strong>hdfs.path</strong></td><td>-</td><td>OBS 存储路径，需要以 <code>obs://</code> 为前缀</td></tr><tr><td>hdfs.useLocalTimeStamp</td><td>false</td><td>是否使用本地时间</td></tr><tr><td>hdfs.filePrefix</td><td>FlumeData</td><td>文件前缀</td></tr><tr><td>hdfs.inUsePrefix</td><td>-</td><td>写入过程中的文件前缀</td></tr><tr><td>hdfs.inUseSuffix</td><td>.tmp</td><td>写入过程中的文件后缀</td></tr><tr><td>hdfs.fileType</td><td>SequenceFile</td><td>文件类型，当前可用的取值有 <code>SequenceFile</code>、<code>DataStream</code>、<code>CompressedStream</code></td></tr><tr><td>hdfs.writeFormat</td><td>Writable</td><td>SequenceFile 的写入格式，有 <code>Writable</code>、<code>Text</code> 两种取值，需设置为 <code>Text</code>，否则 Impala 或 Hive 无法读取这些文件</td></tr><tr><td>hdfs.rollSize</td><td>1024</td><td>触发滚动的文件大小，单位为 <code>byte</code></td></tr><tr><td>hdfs.rollCount</td><td>10</td><td>触发滚动的事件数</td></tr><tr><td>hdfs.rollInterval</td><td>30</td><td>触发滚动的时间间隔，单位为 <code>s</code></td></tr><tr><td>hdfs.batchSize</td><td>100</td><td>单批次写入 OBS 的事件数</td></tr><tr><td>hdfs.round</td><td>false</td><td>时间戳是否四舍五入</td></tr><tr><td>hdfs.roundValue</td><td>1</td><td>四舍五入到小于当前时间的最高倍数</td></tr><tr><td>hdfs.roundUnit</td><td>second</td><td>下舍单位</td></tr><tr><td>hdfs.minBlockReplicas</td><td>-</td><td>指定每个 hdfs 块的最小副本数</td></tr><tr><td>hdfs.closeTries</td><td>0</td><td>关闭尝试后，接收器必须尝试重命名文件的次数，若为 1，则该接收器将不会重试失败的重命名</td></tr><tr><td>hdfs.callTimeout</td><td>30000</td><td>HDFS 操作的超时时间</td></tr><tr><td>serializer</td><td>TEXT</td><td>序列化器</td></tr><tr><td>serializer.<!-- -->*</td><td>-</td><td>序列化器相关配置</td></tr></tbody></table><p>OBS Sink 支持大量的转义序列，这里仅展示当前常用的几个：</p><table><thead><tr><th><strong>转义符</strong></th><th><strong>转义说明</strong></th></tr></thead><tbody><tr><td>%Y</td><td>年份，如 <code>2021</code></td></tr><tr><td>%m</td><td>月份，取值范围为 <code>01</code> ~ <code>12</code></td></tr><tr><td>%d</td><td>每月的某天，如 <code>01</code></td></tr><tr><td>%H</td><td>小时，取值范围为 <code>00</code> ~ <code>23</code></td></tr><tr><td>%M</td><td>分钟，取值范围为 <code>00</code> ~ <code>59</code></td></tr><tr><td>%<!-- -->[FQDN]</td><td>Flume 所在主机（容器）的标准主机名</td></tr></tbody></table><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>OBS Sink 支持通过转义序列获取事件的 header 信息。假如某个事件有 key 为 topic 的 header 键值对，那么 OBS Sink 可以通过 %!{(MISSING)topic} 获取对应键值对里的值。</p></div></div><p>使用示例：</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.channel</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">c1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">hdfs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.hdfs.useLocalTimeStamp</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.hdfs.filePrefix</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">%{topic}_%[FQDN]_v1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.hdfs.path</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">obs://xxx/flume/%{topic}/create_time=%Y-%m-%d %H-%M</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.hdfs.inUsePrefix</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">_</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.hdfs.fileType</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">DataStream</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.hdfs.writeFormat</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">Text</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.hdfs.rollSize</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">524288000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.hdfs.rollCount</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.hdfs.rollInterval</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">300</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.hdfs.batchSize</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">10000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.hdfs.round</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.hdfs.roundValue</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.hdfs.roundUnit</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">minute</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.hdfs.minBlockReplicas</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.hdfs.closeTries</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.hdfs.callTimeout</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">300000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>根据华为云官方描述，其 OBS FileSystem 实现的 HDFS 协议不支持租约机制，<strong>在多线程并发写同一份文件的情况下可能会出现数据丢失的问题</strong>，因此在 OBS Sink 中需要通过 <code>filePrefix</code> 对各线程进行文件名隔离。</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="avro-sink">Avro Sink<a class="hash-link" href="#avro-sink" title="Direct link to heading">​</a></h3><p>Avro Sink 本质上为 Avro 客户端，支持发送事件到 Avro 接收端。</p><table><thead><tr><th><strong>配置项</strong></th><th><strong>默认值</strong></th><th><strong>配置说明</strong></th></tr></thead><tbody><tr><td>⭐ <strong>type</strong></td><td>-</td><td>Avro Sink 组件类型，必须为 <code>avro</code></td></tr><tr><td>⭐ <strong>channel</strong></td><td>-</td><td>Avro Sink 消费的 channel</td></tr><tr><td>⭐ <strong>hostname</strong></td><td>-</td><td>Avro Sink 绑定的主机名或 IP 地址</td></tr><tr><td>⭐ <strong>port</strong></td><td>-</td><td>Avro Sink 监听的端口</td></tr><tr><td>batch-size</td><td>100</td><td>单批次发送的事件数</td></tr><tr><td>reset-connection-interval</td><td>none</td><td>连接重置时间间隔（单位 <code>s</code>），该配置允许 Avro Sink 直接连接负载均衡地址，即便该地址有新主机加入也无需重启 Flume</td></tr><tr><td>compression-type</td><td>none</td><td>压缩类型，有 <code>none</code> 和 <code>deflate</code> 两种取值</td></tr><tr><td>compression-level</td><td>6</td><td>压缩等级，<code>0</code> 表述不压缩，<code>1</code> ~ <code>9</code> 表示压缩，且数值越高，压缩率越高</td></tr></tbody></table><p>使用示例：</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">avro</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.channel</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">c1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.hostname</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">xxx.xxx.xxx.xxx</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.port</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">4545</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.batch-size</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">500</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.reset-connection-interval</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">600</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.compression-type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">deflate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.compression-level</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">6</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>Avro Sink 的 compression-type 需要与接收端保持一致。</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="logger-sink">Logger Sink<a class="hash-link" href="#logger-sink" title="Direct link to heading">​</a></h3><p>Logger Sink 以 <code>INFO</code> 级别输出事件到程序日志，通常用于测试。</p><table><thead><tr><th><strong>配置项</strong></th><th><strong>默认值</strong></th><th><strong>配置说明</strong></th></tr></thead><tbody><tr><td>⭐ <strong>type</strong></td><td>-</td><td>Logger Sink 组件类型，必须为 <code>logger</code></td></tr><tr><td>⭐ <strong>channel</strong></td><td>-</td><td>Logger Sink 消费的 channel</td></tr><tr><td>maxBytesToLog</td><td>16</td><td>事件 body 的最大输出大小，单位为 <code>byte</code></td></tr></tbody></table><p>使用示例：</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">logger</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.channel</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">c1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="null-sink">Null Sink<a class="hash-link" href="#null-sink" title="Direct link to heading">​</a></h3><p>Null Sink 用于丢弃一些不需要的事件。</p><table><thead><tr><th><strong>配置项</strong></th><th><strong>默认值</strong></th><th><strong>配置说明</strong></th></tr></thead><tbody><tr><td>⭐ <strong>type</strong></td><td>-</td><td>Null Sink 组件类型，必须为 <code>null</code></td></tr><tr><td>⭐ <strong>channel</strong></td><td>-</td><td>Null Sink 消费的 channel</td></tr><tr><td>batchSize</td><td>100</td><td>单批次大小</td></tr></tbody></table><p>使用示例：</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key attr-name" style="color:#00a4db">agent.sinks.k1.channel</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token value attr-value" style="color:#e3116c">c1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>Null Sink 事件一经丢弃，无法找回，使用时务必谨慎。</p></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/flume/Flume 集群部署（Docker）"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Flume 集群部署（Docker）</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/flume/Flume 负载均衡选择器"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Flume 负载均衡选择器</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#source" class="table-of-contents__link toc-highlight">Source</a><ul><li><a href="#thrift-source" class="table-of-contents__link toc-highlight">Thrift Source</a></li><li><a href="#avro-source" class="table-of-contents__link toc-highlight">Avro Source</a></li><li><a href="#kafka-source" class="table-of-contents__link toc-highlight">Kafka Source</a></li><li><a href="#spooling-directory-source" class="table-of-contents__link toc-highlight">Spooling Directory Source</a></li></ul></li><li><a href="#selector" class="table-of-contents__link toc-highlight">Selector</a><ul><li><a href="#replicating-selector" class="table-of-contents__link toc-highlight">Replicating Selector</a></li><li><a href="#multiplexing-selector" class="table-of-contents__link toc-highlight">Multiplexing Selector</a></li></ul></li><li><a href="#channel" class="table-of-contents__link toc-highlight">Channel</a><ul><li><a href="#file-channel" class="table-of-contents__link toc-highlight">File Channel</a></li><li><a href="#memory-channel" class="table-of-contents__link toc-highlight">Memory Channel</a></li></ul></li><li><a href="#sink" class="table-of-contents__link toc-highlight">Sink</a><ul><li><a href="#kafka-sink" class="table-of-contents__link toc-highlight">Kafka Sink</a></li><li><a href="#obs-sink" class="table-of-contents__link toc-highlight">OBS Sink</a></li><li><a href="#avro-sink" class="table-of-contents__link toc-highlight">Avro Sink</a></li><li><a href="#logger-sink" class="table-of-contents__link toc-highlight">Logger Sink</a></li><li><a href="#null-sink" class="table-of-contents__link toc-highlight">Null Sink</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Recommend</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Spark</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/flink">Flink</a></li></ul></div><div class="col footer__col"><div class="footer__title">Other</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/clickhouse">ClickHouse</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/flume">Flume</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/spider">Spider</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/magicpenta" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://opensource.fb.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.fb.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cookie Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/bottom.png" alt="Panda Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/bottom.png" alt="Panda Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright © 2023 Panda's Home</div></div></div></footer></div>
<script src="/assets/js/runtime~main.e2f7f3df.js"></script>
<script src="/assets/js/main.4ed9c8f6.js"></script>
</body>
</html>