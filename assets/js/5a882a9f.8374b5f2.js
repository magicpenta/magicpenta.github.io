"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8902],{3905:(t,e,a)=>{a.d(e,{Zo:()=>k,kt:()=>c});var n=a(7294);function l(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function p(t,e){if(null==t)return{};var a,n,l=function(t,e){if(null==t)return{};var a,n,l={},i=Object.keys(t);for(n=0;n<i.length;n++)a=i[n],e.indexOf(a)>=0||(l[a]=t[a]);return l}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(l[a]=t[a])}return l}var d=n.createContext({}),m=function(t){var e=n.useContext(d),a=e;return t&&(a="function"==typeof t?t(e):r(r({},e),t)),a},k=function(t){var e=m(t.components);return n.createElement(d.Provider,{value:e},t.children)},o="mdxType",s={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},N=n.forwardRef((function(t,e){var a=t.components,l=t.mdxType,i=t.originalType,d=t.parentName,k=p(t,["components","mdxType","originalType","parentName"]),o=m(a),N=l,c=o["".concat(d,".").concat(N)]||o[N]||s[N]||i;return a?n.createElement(c,r(r({ref:e},k),{},{components:a})):n.createElement(c,r({ref:e},k))}));function c(t,e){var a=arguments,l=e&&e.mdxType;if("string"==typeof t||l){var i=a.length,r=new Array(i);r[0]=N;var p={};for(var d in e)hasOwnProperty.call(e,d)&&(p[d]=e[d]);p.originalType=t,p[o]="string"==typeof t?t:l,r[1]=p;for(var m=2;m<i;m++)r[m]=a[m];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}N.displayName="MDXCreateElement"},903:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>d,contentTitle:()=>r,default:()=>o,frontMatter:()=>i,metadata:()=>p,toc:()=>m});var n=a(7462),l=(a(7294),a(3905));const i={sidebar_position:4},r="Spark RDD",p={unversionedId:"spark/Spark RDD",id:"spark/Spark RDD",title:"Spark RDD",description:"RDD \u57fa\u672c\u6982\u5ff5",source:"@site/docs/spark/Spark RDD.md",sourceDirName:"spark",slug:"/spark/Spark RDD",permalink:"/docs/spark/Spark RDD",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"defaultSidebar",previous:{title:"Spark \u5e94\u7528\u63d0\u4ea4",permalink:"/docs/spark/Spark \u5e94\u7528\u63d0\u4ea4"},next:{title:"Spark \u5171\u4eab\u53d8\u91cf",permalink:"/docs/spark/Spark \u5171\u4eab\u53d8\u91cf"}},d={},m=[{value:"RDD \u57fa\u672c\u6982\u5ff5",id:"rdd-\u57fa\u672c\u6982\u5ff5",level:2},{value:"RDD \u521b\u5efa",id:"rdd-\u521b\u5efa",level:2},{value:"RDD \u5206\u533a",id:"rdd-\u5206\u533a",level:2},{value:"RDD \u7b97\u5b50",id:"rdd-\u7b97\u5b50",level:2},{value:"\u8f6c\u6362\u7b97\u5b50",id:"\u8f6c\u6362\u7b97\u5b50",level:3},{value:"\u884c\u52a8\u7b97\u5b50",id:"\u884c\u52a8\u7b97\u5b50",level:3},{value:"RDD \u4f9d\u8d56\u5173\u7cfb",id:"rdd-\u4f9d\u8d56\u5173\u7cfb",level:2},{value:"\u7a84\u4f9d\u8d56",id:"\u7a84\u4f9d\u8d56",level:3},{value:"\u5bbd\u4f9d\u8d56",id:"\u5bbd\u4f9d\u8d56",level:3},{value:"RDD \u8840\u7f18\u5173\u7cfb",id:"rdd-\u8840\u7f18\u5173\u7cfb",level:2},{value:"RDD \u6301\u4e45\u5316",id:"rdd-\u6301\u4e45\u5316",level:2},{value:"\u56fe\u89e3\u8bf4\u660e",id:"\u56fe\u89e3\u8bf4\u660e",level:3},{value:"\u590d\u7528\u539f\u7406",id:"\u590d\u7528\u539f\u7406",level:3},{value:"\u5b58\u50a8\u7ea7\u522b",id:"\u5b58\u50a8\u7ea7\u522b",level:3},{value:"RDD \u68c0\u67e5\u70b9",id:"rdd-\u68c0\u67e5\u70b9",level:2},{value:"\u5b9e\u73b0\u539f\u7406",id:"\u5b9e\u73b0\u539f\u7406",level:3},{value:"\u4f7f\u7528\u793a\u4f8b",id:"\u4f7f\u7528\u793a\u4f8b",level:3}],k={toc:m};function o(t){let{components:e,...i}=t;return(0,l.kt)("wrapper",(0,n.Z)({},k,i,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"spark-rdd"},"Spark RDD"),(0,l.kt)("h2",{id:"rdd-\u57fa\u672c\u6982\u5ff5"},"RDD \u57fa\u672c\u6982\u5ff5"),(0,l.kt)("p",null,"RDD\uff0c\u5168\u79f0\u4e3a Resilient Distributed Dataset\uff0c\u7ffb\u8bd1\u6210\u4e2d\u6587\u53eb\u505a ",(0,l.kt)("strong",{parentName:"p"},"\u5f39\u6027\u5206\u5e03\u5f0f\u6570\u636e\u96c6"),"\uff0c\u662f Spark \u4e2d\u6700\u91cd\u8981\u7684\u62bd\u8c61\u6982\u5ff5\uff0c\u4ee3\u8868\u4e86\u4e00\u4e2a\u4e0d\u53ef\u53d8\u3001\u53ef\u5206\u533a\u3001\u652f\u6301\u5e76\u884c\u8ba1\u7b97\u7684\u6570\u636e\u96c6\u5408\u3002\u5b83\u7684\u8bbe\u8ba1\u7406\u5ff5\u6e90\u81ea AMP \u5b9e\u9a8c\u5ba4\u53d1\u8868\u7684\u8bba\u6587\u300aResilient Distributed Datasets: A Fault-Tolerant Abstraction for In-Memory Cluster Computing\u300b\u3002"),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"\u867d\u7136 RDD \u88ab\u79f0\u4e3a\u6570\u636e\u96c6\uff0c\u4f46\u5b9e\u9645\u4e0a\u5b83\u53ea\u662f\u5c01\u88c5\u4e86\u8ba1\u7b97\u903b\u8f91\uff0c\u5e76\u4e0d\u4fdd\u5b58\u6570\u636e\u3002")),(0,l.kt)("p",null,"\u4ece\u5b9a\u4e49\u4e0a\u6765\u770b\uff0cRDD \u5177\u6709\u5f88\u591a\u7279\u6027\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5f39\u6027\uff1aRDD \u7684\u5f39\u6027\u4e3b\u8981\u4f53\u73b0\u5728\u5b58\u50a8\u3001\u8ba1\u7b97\u3001\u5bb9\u9519\u3001\u5206\u7247\u7b49\u65b9\u9762",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"\u5b58\u50a8\u7684\u5f39\u6027\uff1a\u5185\u5b58\u4e0d\u8db3\u65f6\u53ef\u4ee5\u548c\u78c1\u76d8\u8fdb\u884c\u6570\u636e\u4ea4\u6362"),(0,l.kt)("li",{parentName:"ul"},"\u8ba1\u7b97\u7684\u5f39\u6027\uff1a\u8ba1\u7b97\u51fa\u9519\u65f6\u5177\u6709\u91cd\u8bd5\u673a\u5236"),(0,l.kt)("li",{parentName:"ul"},"\u5bb9\u9519\u7684\u5f39\u6027\uff1a\u6570\u636e\u4e22\u5931\u53ef\u81ea\u52a8\u6062\u590d"),(0,l.kt)("li",{parentName:"ul"},"\u5206\u7247\u7684\u5f39\u6027\uff1a\u53ef\u6839\u636e\u9700\u8981\u91cd\u65b0\u5206\u7247"))),(0,l.kt)("li",{parentName:"ul"},"\u4e0d\u53ef\u53d8\uff08\u53ea\u8bfb\uff09\uff1aRDD \u662f\u53ea\u8bfb\u7684\uff0c\u521b\u5efa\u540e\u4e0d\u53ef\u4fee\u6539\uff0c\u53ea\u80fd\u901a\u8fc7\u8f6c\u6362\u64cd\u4f5c\uff08",(0,l.kt)("inlineCode",{parentName:"li"},"map"),"\u3001",(0,l.kt)("inlineCode",{parentName:"li"},"join")," \u7b49\uff09\u751f\u6210\u65b0\u7684 RDD"),(0,l.kt)("li",{parentName:"ul"},"\u53ef\u5206\u533a\uff1aRDD \u53ef\u4ee5\u5206\u6210\u591a\u4e2a\u5206\u533a\uff0c\u6bcf\u4e2a\u5206\u533a\u5bf9\u5e94\u5927\u6570\u636e\u96c6\u7fa4\u4e0a\u7684\u4e00\u4e2a\u6570\u636e\u7247\u6bb5"),(0,l.kt)("li",{parentName:"ul"},"\u652f\u6301\u5e76\u884c\u8ba1\u7b97\uff1aRDD \u7684\u4e0d\u540c\u5206\u533a\u53ef\u5bf9\u5e94\u96c6\u7fa4\u4e0a\u4e0d\u540c\u8282\u70b9\u7684\u6570\u636e\u7247\u6bb5\uff0c\u8fdb\u800c\u652f\u6301\u5e76\u884c\u8ba1\u7b97")),(0,l.kt)("p",null,"\u5728\u4ee3\u7801\u5c42\u9762\uff0cRDD \u662f\u4e00\u4e2a\u62bd\u8c61\u7c7b\uff0c\u4e3b\u8981\u6709 5 \u4e2a\u6838\u5fc3\u65b9\u6cd5\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"\u540d\u79f0")),(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"\u542b\u4e49")))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"getPartitions"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7531\u5b50\u7c7b\u5b9e\u73b0\uff0c\u8fd4\u56de\u4e00\u4e2a\u5206\u533a\u5217\u8868\uff0c\u7528\u4e8e\u6267\u884c\u5e76\u884c\u8ba1\u7b97")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"compute"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7531\u5b50\u7c7b\u5b9e\u73b0\uff0c\u662f\u4e00\u4e2a\u7528\u4e8e ",(0,l.kt)("strong",{parentName:"td"},"\u8ba1\u7b97\u6bcf\u4e00\u4e2a\u5206\u533a")," \u7684 ",(0,l.kt)("strong",{parentName:"td"},"\u51fd\u6570"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"getDependencies"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7531\u5b50\u7c7b\u5b9e\u73b0\uff0c\u83b7\u53d6\u5f53\u524d RDD \u7684\u4f9d\u8d56\u5173\u7cfb")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"partitioner"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7531\u5b50\u7c7b\u5b9e\u73b0\uff08\u53ef\u9009\uff09\uff0c\u53ef\u8bbe\u7f6e\u5206\u533a\u5668\u5bf9\u6570\u636e\u96c6\u8fdb\u884c\u5206\u533a\uff08\u4ec5\u9002\u7528\u4e8e KV \u7c7b\u578b\u7684 RDD\uff09")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"getPreferredLocations"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7531\u5b50\u7c7b\u5b9e\u73b0\uff08\u53ef\u9009\uff09\uff0c\u53ef\u5728\u5206\u533a\u8ba1\u7b97\u65f6\u6307\u5b9a ",(0,l.kt)("strong",{parentName:"td"},"\u4f18\u5148\u8d77\u59cb\u4f4d\u7f6e"),"\uff0c\u6709\u52a9\u4e8e\u201c\u79fb\u52a8\u8ba1\u7b97\u201d\u7684\u5b9e\u73b0")))),(0,l.kt)("admonition",{type:"caution"},(0,l.kt)("p",{parentName:"admonition"},"compute \u65b9\u6cd5\u901a\u5e38\u7528\u4e8e\u6267\u884c\u7b97\u5b50\u4e2d\u7528\u6237\u7f16\u5199\u7684\u51fd\u6570 func\uff0c\u4f46\u6709\u65f6\u5b83\u53c8\u53ea\u8fd4\u56de\u4e86\u8fed\u4ee3\u5668\uff0c\u5e76\u4e0d\u6267\u884c\u8ba1\u7b97\uff0c\u66f4\u591a\u7ec6\u8282\u8bf7\u89c1 \u300aSpark \u4efb\u52a1\u8c03\u5ea6\u300b\u4e2d\u7684\u5185\u5bb9\u3002")),(0,l.kt)("h2",{id:"rdd-\u521b\u5efa"},"RDD \u521b\u5efa"),(0,l.kt)("p",null,"RDD \u53ef\u4ee5\u57fa\u4e8e\u5df2\u5b58\u5728\u7684\u96c6\u5408\u521b\u5efa\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-scala"},"val array: Array[Int] = Array(1, 2, 3, 4, 5)\nval rdd: RDD[Int] = sc.parallelize(array)\n\n")),(0,l.kt)("p",null,"\u5b83\u4e5f\u53ef\u4ee5\u57fa\u4e8e\u5916\u90e8\u5b58\u50a8\u7cfb\u7edf\u7684\u6570\u636e\u96c6\u521b\u5efa\uff0c\u5305\u62ec\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u3001Hadoop \u652f\u6301\u7684\u6570\u636e\u96c6\uff08HDFS\u3001HBase \u7b49\uff09\uff0c\u4f8b\u5982\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-scala"},'val lines: RDD[String] = sc.textFile("data/my.txt")\n')),(0,l.kt)("p",null,"\u9700\u8981\u8865\u5145\u7684\u662f\uff0cSpark \u5728\u8bfb\u53d6\u5916\u90e8\u6587\u4ef6\u65f6\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u652f\u6301\u76ee\u5f55\u7ea7\u522b\u8bfb\u53d6\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},'testFile("data/")')),(0,l.kt)("li",{parentName:"ul"},"\u652f\u6301\u901a\u914d\u7b26\u8bfb\u53d6\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},'testFile("data/*")')," \u6216 ",(0,l.kt)("inlineCode",{parentName:"li"},'testFile("data/*.txt")'))),(0,l.kt)("h2",{id:"rdd-\u5206\u533a"},"RDD \u5206\u533a"),(0,l.kt)("p",null,"\u5206\u533a\u662f RDD \u4e2d\u6700\u91cd\u8981\u7684\u6838\u5fc3\u5c5e\u6027\u3002\u4e00\u65b9\u9762\uff0c\u5b83\u5b58\u50a8\u4e86\u6570\u636e\u7247\u6bb5\u5728\u5927\u6570\u636e\u96c6\u7fa4\u6240\u5904\u7684\u4f4d\u7f6e\uff1b\u53e6\u4e00\u65b9\u9762\uff0c\u5b83\u7684\u6570\u91cf\u4e0e\u8ba1\u7b97\u6548\u7387\u606f\u606f\u76f8\u5173\u3002"),(0,l.kt)("p",null,"\u5206\u533a\u5bf9\u8ba1\u7b97\u6548\u7387\u7684\u5f71\u54cd\u4e3b\u8981\u5728\u4e8e CPU \u7684\u5229\u7528\u7387\u3002\u4e3e\u4f8b\u8bf4\u660e\uff0c\u5047\u8bbe Spark \u96c6\u7fa4\u652f\u6301 100 \u7684\u5e76\u884c\u5ea6\uff0c\u4e14\u6709\u5206\u533a\u6570\u4e3a 1 \u7684 RDD\uff0c\u7531\u4e8e\u8be5 RDD \u7684\u5206\u533a\u6570\u8f83\u5c0f\uff0c\u5176\u62c6\u89e3\u51fa\u7684\u8ba1\u7b97\u4efb\u52a1\u6570\u4e5f\u504f\u5c0f\uff0c\u5b9e\u9645\u8ba1\u7b97\u65f6\u5c06\u65e0\u6cd5\u5145\u5206\u5229\u7528\u96c6\u7fa4\u7684 CPU \u8d44\u6e90\u3002\u76f8\u53cd\uff0c\u82e5\u6b64\u65f6\u6709\u5206\u533a\u6570\u4e3a 100 \u7684 RDD\uff0c\u90a3\u4e48\u5176\u62c6\u89e3\u51fa\u7684\u8ba1\u7b97\u4efb\u52a1\u5c06\u5c3d\u53ef\u80fd\u5730\u5360\u6ee1\u96c6\u7fa4\u7684 CPU \u8d44\u6e90\u3002"),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"\u5e76\u884c\u5ea6\u6307\u8ba1\u7b97\u96c6\u7fa4\u652f\u6301\u5e76\u884c\u8ba1\u7b97\u7684\u4efb\u52a1\u6570\u91cf\uff0c\u901a\u5e38\u5e0c\u671b\u4e0e\u96c6\u7fa4\u7684 CPU \u603b\u6838\u6570\u4fdd\u6301\u4e00\u81f4\u3002")),(0,l.kt)("p",null,"\u77e5\u9053\u5206\u533a\u7684\u91cd\u8981\u6027\u540e\uff0c\u6211\u4eec\u518d\u6765\u7a76\u5176\u672c\u8d28\u3002\u524d\u6587\u63d0\u5230\u8fc7\uff0cRDD \u5206\u533a\u5bf9\u5e94\u7684\u5176\u5b9e\u662f\u5927\u6570\u636e\u96c6\u7fa4\u4e0a\u7684\u4e00\u4e2a\u6570\u636e\u7247\u6bb5\u3002\u8fd9\u4e2a\u6570\u636e\u7247\u6bb5\uff0c\u4e0e\u6587\u4ef6\u7cfb\u7edf\u4e0a\u7684\u6587\u4ef6\u5e76\u975e\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\u5173\u7cfb\u3002",(0,l.kt)("strong",{parentName:"p"},"\u5b83\u662f\u7531 InputFormat \u5b9e\u73b0\u7c7b\u6839\u636e\u4e00\u5b9a\u89c4\u5219\u5bf9\u6570\u636e\u6587\u4ef6\u8fdb\u884c\u5207\u5206\u7684\u7ed3\u679c\u3002"),"\u4ee5\u8bfb\u53d6 HDFS \u6587\u4ef6\u4e3a\u4f8b\uff0c\u8fd9\u4e2a\u5207\u5206\u7684\u8fc7\u7a0b\u5982\u4e0b\u6240\u793a\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{src:a(9397).Z,width:"1541",height:"883"})),(0,l.kt)("p",null,"\u8be5\u8fc7\u7a0b\u7684\u6838\u5fc3\u5728\u4e8e\u6b65\u9aa4 4\uff0c\u5373\u8ba1\u7b97 split \u7684\u5927\u5c0f\u3002",(0,l.kt)("strong",{parentName:"p"},"split \u7684\u5927\u5c0f\u5c06\u76f4\u63a5\u5f71\u54cd\u4e00\u4e2a\u6570\u636e\u6587\u4ef6\u4f1a\u88ab\u5207\u5206\u6210\u591a\u5c11\u4e2a\u7247\u6bb5\uff0c\u5e76\u6700\u7ec8\u5f71\u54cd RDD \u7684\u5206\u533a\u6570\u3002"),"\u5728 HadoopRDD \u4e2d\uff0csplit \u7531 ",(0,l.kt)("inlineCode",{parentName:"p"},"minPartitions")," \u6839\u636e\u4e00\u5b9a\u8fd0\u7b97\u89c4\u5219\u8ba1\u7b97\u5f97\u6765\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"minPartitions")," \u53ef\u4ee5\u5728\u521b\u5efa RDD \u65f6\u901a\u8fc7\u53c2\u6570\u6307\u5b9a\u3002"),(0,l.kt)("admonition",{type:"caution"},(0,l.kt)("p",{parentName:"admonition"},"RDD \u7684\u5b9e\u73b0\u7c7b\u6709\u5f88\u591a\uff0c\u76f8\u5e94\u5730\uff0csplit \u7684\u8ba1\u7b97\u89c4\u5219\u4e5f\u5404\u4e0d\u76f8\u540c\u3002\u4f8b\u5982\uff0c\u5728 DataFrame \u7684 FileScanRDD \u4e2d\uff0csplit \u7684\u5927\u5c0f\u4e0e\u9ed8\u8ba4\u5e76\u884c\u5ea6 ",(0,l.kt)("inlineCode",{parentName:"p"},"spark.default.parallelism")," \u6709\u5173\u3002")),(0,l.kt)("h2",{id:"rdd-\u7b97\u5b50"},"RDD \u7b97\u5b50"),(0,l.kt)("p",null,"\u5bf9 RDD \u6570\u636e\u7684\u64cd\u4f5c\u79f0\u4e3a\u7b97\u5b50\uff0c\u5b83\u542b\u6709\u4e24\u79cd\u7c7b\u578b\uff0c\u5206\u522b\u662f ",(0,l.kt)("strong",{parentName:"p"},"\u8f6c\u6362\u7b97\u5b50")," \u548c ",(0,l.kt)("strong",{parentName:"p"},"\u884c\u52a8\u7b97\u5b50"),"\u3002"),(0,l.kt)("h3",{id:"\u8f6c\u6362\u7b97\u5b50"},"\u8f6c\u6362\u7b97\u5b50"),(0,l.kt)("p",null,"\u8f6c\u6362\u7b97\u5b50\uff08transformations\uff09\u4f1a\u57fa\u4e8e\u5df2\u5b58\u7684 RDD \u521b\u5efa\u51fa\u65b0\u7684 RDD\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{src:a(6395).Z,width:"1262",height:"522"})),(0,l.kt)("p",null,"\u5176\u4e2d\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"flatMap")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"map")," \u4fbf\u5c5e\u4e8e\u8f6c\u6362\u7b97\u5b50\uff0c\u524d\u8005\u8d1f\u8d23\u5bf9\u6570\u636e\u8fdb\u884c\u5207\u5206\u5c55\u5f00\uff0c\u540e\u8005\u8d1f\u8d23\u6570\u636e\u7684\u6620\u5c04\u8f6c\u6362\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8f6c\u6362\u7b97\u5b50\u662f\u60f0\u6027\u7684\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u4ec5\u8bb0\u5f55 RDD \u7684\u8f6c\u6362\u903b\u8f91\uff0c\u4e0d\u4f1a\u89e6\u53d1\u8ba1\u7b97"),"\u3002"),(0,l.kt)("p",null,"\u4e0b\u8868\u662f\u4e00\u4e9b\u5e38\u89c1\u7684 RDD \u8f6c\u6362\u7b97\u5b50\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"\u64cd\u4f5c")),(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"\u542b\u4e49")))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"filter"),"(",(0,l.kt)("em",{parentName:"td"},"func"),")"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7b5b\u9009\u51fa\u6ee1\u8db3\u6761\u4ef6\u7684\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u6570\u636e\u96c6")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"map"),"(",(0,l.kt)("em",{parentName:"td"},"func"),")"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06\u6bcf\u4e2a\u5143\u7d20\u4f20\u9012\u5230\u51fd\u6570 ",(0,l.kt)("em",{parentName:"td"},"func")," \u4e2d\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u6570\u636e\u96c6\uff0c\u6bcf\u4e2a\u8f93\u5165\u5143\u7d20\u4f1a\u6620\u5c04\u5230 ",(0,l.kt)("strong",{parentName:"td"},"1 \u4e2a\u8f93\u51fa\u7ed3\u679c"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"flatMap"),"(",(0,l.kt)("em",{parentName:"td"},"func"),")"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4e0e map \u76f8\u4f3c\uff0c\u4f46\u6bcf\u4e2a\u8f93\u5165\u5143\u7d20\u90fd\u53ef\u4ee5\u6620\u5c04\u5230 ",(0,l.kt)("strong",{parentName:"td"},"0 \u6216\u591a\u4e2a\u8f93\u51fa\u7ed3\u679c"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"mapPartitions"),"(",(0,l.kt)("em",{parentName:"td"},"func"),")"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4e0e map \u76f8\u4f3c\uff0c\u4f46\u662f\u4f20\u9012\u7ed9\u51fd\u6570 ",(0,l.kt)("em",{parentName:"td"},"func")," \u7684\u662f\u6bcf\u4e2a\u5206\u533a\u6570\u636e\u96c6\u5bf9\u5e94\u7684\u8fed\u4ee3\u5668")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"distinct"),"(",(0,l.kt)("em",{parentName:"td"},"func"),")"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5bf9\u539f\u6570\u636e\u96c6\u8fdb\u884c\u53bb\u91cd\uff0c\u5e76\u8fd4\u56de\u65b0\u7684\u6570\u636e\u96c6")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"groupByKey"),"(",(0,l.kt)("em",{parentName:"td"},"[numPartitions]"),")"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5e94\u7528\u4e8e (K, V) \u5f62\u5f0f\u7684\u6570\u636e\u96c6\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 (K, Iterable<V",">",") \u5f62\u5f0f\u7684\u6570\u636e\u96c6\uff0c\u53ef\u901a\u8fc7 ",(0,l.kt)("em",{parentName:"td"},"numPartitions")," \u6307\u5b9a\u65b0\u6570\u636e\u96c6\u7684\u5206\u533a\u6570")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"reduceByKey"),"(",(0,l.kt)("em",{parentName:"td"},"func"),", ",(0,l.kt)("em",{parentName:"td"},"[numPartitions]"),")"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5e94\u7528\u4e8e (K, V) \u5f62\u5f0f\u7684\u6570\u636e\u96c6\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 (K, V) \u5f62\u5f0f\u7684\u6570\u636e\u96c6\uff0c\u65b0\u6570\u636e\u96c6\u4e2d\u7684 V \u662f\u539f\u6709\u6570\u636e\u96c6\u4e2d\u6bcf\u4e2a K \u5bf9\u5e94\u7684 V \u4f20\u9012\u5230 ",(0,l.kt)("em",{parentName:"td"},"func "),"\u4e2d\u8fdb\u884c\u805a\u5408\u540e\u7684\u7ed3\u679c")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"aggregateByKey"),"(",(0,l.kt)("em",{parentName:"td"},"zeroValue"),")(",(0,l.kt)("em",{parentName:"td"},"seqOp"),", ",(0,l.kt)("em",{parentName:"td"},"combOp"),", ",(0,l.kt)("em",{parentName:"td"},"[numPartitions]"),")"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5e94\u7528\u4e8e (K, V) \u5f62\u5f0f\u7684\u6570\u636e\u96c6\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 (K, U) \u5f62\u5f0f\u7684\u6570\u636e\u96c6\uff0c\u65b0\u6570\u636e\u96c6\u4e2d\u7684 U  \u662f\u539f\u6709\u6570\u636e\u96c6\u4e2d\u6bcf\u4e2a K \u5bf9\u5e94\u7684 V \u4f20\u9012\u5230 ",(0,l.kt)("em",{parentName:"td"},"seqOp")," \u4e0e ",(0,l.kt)("em",{parentName:"td"},"combOp")," \u7684\u8054\u5408\u51fd\u6570\u4e14\u4e0e ",(0,l.kt)("em",{parentName:"td"},"zeroValue")," \u805a\u5408\u540e\u7684\u7ed3\u679c")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"sortByKey"),"(",(0,l.kt)("em",{parentName:"td"},"[ascending]"),", ",(0,l.kt)("em",{parentName:"td"},"[numPartitions]"),")"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5e94\u7528\u4e8e (K, V) \u5f62\u5f0f\u7684\u6570\u636e\u96c6\uff0c\u8fd4\u56de\u4e00\u4e2a\u6839\u636e K \u6392\u5e8f\u7684\u6570\u636e\u96c6\uff0cK \u6309\u5347\u5e8f\u6216\u964d\u5e8f\u6392\u5e8f\u7531  ",(0,l.kt)("em",{parentName:"td"},"ascending")," \u6307\u5b9a")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"union"),"(",(0,l.kt)("em",{parentName:"td"},"func"),")"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06\u4e24\u4e2a\u6570\u636e\u96c6\u4e2d\u7684\u5143\u7d20\u5408\u5e76\u5230\u4e00\u4e2a\u65b0\u7684\u6570\u636e\u96c6")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"join"),"(",(0,l.kt)("em",{parentName:"td"},"func"),")"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8868\u793a\u5185\u8fde\u63a5\uff0c\u5bf9\u4e8e\u7ed9\u5b9a\u7684\u4e24\u4e2a\u5f62\u5f0f\u5206\u522b\u4e3a (K, V) \u548c (K, W) \u7684\u6570\u636e\u96c6\uff0c\u53ea\u6709\u5728\u4e24\u4e2a\u6570\u636e\u96c6\u4e2d\u90fd\u5b58\u5728\u7684 K \u624d\u4f1a\u88ab\u8f93\u51fa\uff0c\u6700\u7ec8\u5f97\u5230\u4e00\u4e2a (K, (V, W)) \u7c7b\u578b\u7684\u6570\u636e\u96c6")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"repartition"),"(",(0,l.kt)("em",{parentName:"td"},"numPartitions"),")"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5bf9\u6570\u636e\u96c6\u8fdb\u884c\u91cd\u5206\u533a\uff0c\u65b0\u7684\u5206\u533a\u6570\u7531 ",(0,l.kt)("em",{parentName:"td"},"numPartitions")," \u6307\u5b9a")))),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"\u4e0a\u8868\u90e8\u5206\u8f6c\u6362\u7b97\u5b50\u7684\u6982\u5ff5\u770b\u8d77\u6765\u8f83\u4e3a\u590d\u6742\uff0c\u56e0\u6b64\u5bf9\u8be5\u90e8\u5206\u7b97\u5b50\u8fdb\u884c\u8865\u5145\u8bf4\u660e\u3002")),(0,l.kt)("hr",null),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5173\u4e8e ",(0,l.kt)("inlineCode",{parentName:"strong"},"map")," \u548c ",(0,l.kt)("inlineCode",{parentName:"strong"},"mapPartitions"),"\uff1a")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u672c\u8d28\u533a\u522b\u5728\u4e8e\u8f93\u5165\u7ed9\u51fd\u6570 func \u7684\u5bf9\u8c61\u4e0d\u540c\uff0c\u524d\u8005\u662f RDD \u4e2d\u7684\u5143\u7d20\uff0c\u540e\u8005\u662f RDD \u5206\u533a\u6570\u636e\u96c6\u5bf9\u5e94\u7684\u8fed\u4ee3\u5668\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5047\u5982\u67d0\u4e2a RDD \u6709 n \u4e2a\u5206\u533a\uff0c\u6240\u6709\u5206\u533a\u5171\u6709 m \u4e2a\u5143\u7d20\uff0c\u90a3\u4e48\u8be5 RDD \u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"map")," \u7b97\u5b50\u65f6\u4f1a\u89e6\u53d1 m \u6b21 func\uff0c\u800c\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"mapPartition")," \u65f6\u53ea\u4f1a\u89e6\u53d1 n \u6b21 func\u3002\u5728\u8fd9\u79cd\u533a\u522b\u4e0b\uff0c\u5f53\u51fd\u6570 func \u4e2d\u5b58\u5728\u521b\u5efa\u8fde\u63a5\u3001\u8bfb\u53d6\u6587\u4ef6\u7b49\u8017\u8d39\u8d44\u6e90\u7684\u6b65\u9aa4\u65f6\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"mapPartition")," \u7684\u6027\u80fd\u4f1a\u6bd4 ",(0,l.kt)("inlineCode",{parentName:"li"},"map")," \u66f4\u597d\u3002 ")),(0,l.kt)("hr",null),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u5173\u4e8e ",(0,l.kt)("inlineCode",{parentName:"strong"},"aggregateByKey"),"\uff1a")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"seqOp")," \u548c ",(0,l.kt)("inlineCode",{parentName:"li"},"combOp")," \u8868\u793a\u4e00\u4e2a\u7ec4\u5408\u51fd\u6570\uff0c\u524d\u8005\u6307\u5b9a\u5206\u533a\u5185\u6570\u636e\u7684\u805a\u5408\u65b9\u5f0f\uff0c\u540e\u8005\u6307\u5b9a\u5206\u533a\u95f4\u6570\u636e\u7684\u805a\u5408\u65b9\u5f0f\u3002"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"zeroValue")," \u7684\u7c7b\u578b\u51b3\u5b9a\u4e86\u65b0 RDD \u4e2d V \u7684\u7c7b\u578b\uff0c\u4e14\u6bcf\u4e2a\u5206\u533a\u76f8\u540c K \u7684\u6570\u636e\u805a\u5408\u540e\u4f1a\u6dfb\u52a0\u4e0a ",(0,l.kt)("inlineCode",{parentName:"li"},"zeroValue")," \u7684\u503c\u3002")),(0,l.kt)("p",null,"\u5047\u8bbe\u6709\u5982\u4e0b ",(0,l.kt)("inlineCode",{parentName:"p"},"aggregateByKey")," \u7b97\u5b50\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-scala"},"val agg: RDD[(String, Int)] = wordMap.aggregateByKey(2)(\n  (x, y) => x + y,\n  (x, y) => x + y\n)\n")),(0,l.kt)("p",null,"\u5f53\u6211\u4eec\u8f93\u5165\u4e0b\u56fe\u4e2d\u7684 RDD \u65f6\uff0c\u4f1a\u6709\u5982\u4e0b\u8f6c\u6362\u7ed3\u679c\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{src:a(596).Z,width:"2125",height:"997"})),(0,l.kt)("h3",{id:"\u884c\u52a8\u7b97\u5b50"},"\u884c\u52a8\u7b97\u5b50"),(0,l.kt)("p",null,"\u884c\u52a8\u7b97\u5b50\uff08actions\uff09\u4e0d\u8fd4\u56de\u65b0\u7684 RDD\uff0c\u4f46\u662f\u5b83\u4f1a ",(0,l.kt)("strong",{parentName:"p"},"\u89e6\u53d1\u8ba1\u7b97\u4efb\u52a1\u7684\u6267\u884c"),"\u3002\u4ee5 ",(0,l.kt)("inlineCode",{parentName:"p"},"collect()")," \u7b97\u5b50\u4e3a\u4f8b\uff0c\u5f53\u5b83\u6267\u884c\u540e\uff0c\u4f1a\u5411 Spark \u53d1\u8d77\u4e00\u4e2a\u542f\u52a8\u8ba1\u7b97\u4efb\u52a1\u7684\u6307\u4ee4\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-scala"},"def collect(): Array[T] = withScope {\n  val results = sc.runJob(this, (iter: Iterator[T]) => iter.toArray)\n  Array.concat(results: _*)\n}\n")),(0,l.kt)("p",null,"\u884c\u52a8\u7b97\u5b50\u89e6\u53d1\u8ba1\u7b97\u4efb\u52a1\u540e\uff0cSpark \u624d\u5f00\u59cb\u5206\u6790\u4e4b\u524d\u7684\u8f6c\u6362\u7b97\u5b50\u5e76\u751f\u6210 DAG\uff0c\u7136\u540e\u6839\u636e DAG \u62c6\u89e3\u51fa\u5b9e\u9645\u7684\u8ba1\u7b97\u4efb\u52a1\uff0c\u6700\u7ec8\u6267\u884c\u8ba1\u7b97\u5e76\u5c06\u7ed3\u679c\u8fd4\u56de\u7ed9 Driver\u3002\u8fd9\u79cd\u8bbe\u8ba1\uff0c\u4f7f Spark \u7684\u8ba1\u7b97\u6548\u7387\u5f97\u5230\u4e86\u663e\u8457\u7684\u63d0\u9ad8\u3002"),(0,l.kt)("p",null,"\u4e0b\u8868\u662f\u4e00\u4e9b\u5e38\u89c1\u7684 RDD \u884c\u52a8\u7b97\u5b50\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"\u64cd\u4f5c")),(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"\u542b\u4e49")))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"count"),"()"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8fd4\u56de\u6570\u636e\u96c6\u4e2d\u7684\u5143\u7d20\u4e2a\u6570")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"countByKey"),"()"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4ec5\u9002\u7528\u4e8e (K, V) \u5f62\u5f0f\u7684\u6570\u636e\u96c6\uff0c\u4ee5 (K, Int) \u5f62\u5f0f\u7684 Map \u8fd4\u56de\u6bcf\u4e2a K \u7684\u5143\u7d20\u4e2a\u6570")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"collect"),"()"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4ee5\u6570\u7ec4\u7684\u5f62\u5f0f\u8fd4\u56de\u6570\u636e\u96c6\u4e2d\u7684\u6240\u6709\u5143\u7d20")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"first"),"()"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8fd4\u56de\u6570\u636e\u96c6\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"take"),"(",(0,l.kt)("em",{parentName:"td"},"n"),")"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4ee5\u6570\u7ec4\u7684\u5f62\u5f0f\u8fd4\u56de\u6570\u636e\u96c6\u4e2d\u7684\u524d ",(0,l.kt)("em",{parentName:"td"},"n")," \u4e2a\u5143\u7d20")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"reduce"),"(",(0,l.kt)("em",{parentName:"td"},"func"),")"),(0,l.kt)("td",{parentName:"tr",align:null},"\u901a\u8fc7\u51fd\u6570 ",(0,l.kt)("em",{parentName:"td"},"func"),"\uff08\u8f93\u5165\u4e24\u4e2a\u53c2\u6570\u5e76\u8fd4\u56de\u4e00\u4e2a\u503c\uff09\u805a\u5408\u6570\u636e\u96c6\u4e2d\u7684\u5143\u7d20")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"foreach"),"(",(0,l.kt)("em",{parentName:"td"},"func"),")"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06\u6570\u636e\u96c6\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u4f20\u9012\u5230\u51fd\u6570 ",(0,l.kt)("em",{parentName:"td"},"func "),"\u4e2d\u8fd0\u884c")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"saveAsTextFile"),"(",(0,l.kt)("em",{parentName:"td"},"path"),")"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06\u6570\u636e\u96c6\u4ee5\u6587\u672c\u683c\u5f0f\u5199\u5230\u672c\u5730\u78c1\u76d8\u6216 HDFS \u7684\u6307\u5b9a\u76ee\u5f55\u4e0b")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"saveAsSequenceFile"),"(",(0,l.kt)("em",{parentName:"td"},"path"),")"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06\u6570\u636e\u96c6\u4ee5 SequenceFile \u683c\u5f0f\u5199\u5230\u672c\u5730\u78c1\u76d8\u6216 HDFS \u7684\u6307\u5b9a\u76ee\u5f55\u4e0b\uff0c\u4ec5\u9002\u7528\u4e8e (K, V) \u5f62\u5f0f\u4e14 K \u548c V \u5747\u5b9e\u73b0\u4e86 Hadoop Writable \u63a5\u53e3\u7684\u6570\u636e\u96c6")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"saveAsObjectFile"),"(",(0,l.kt)("em",{parentName:"td"},"path"),")"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06\u6570\u636e\u96c6\u5e8f\u5217\u5316\u6210\u5bf9\u8c61\u4fdd\u5b58\u81f3\u672c\u5730\u78c1\u76d8\u6216 HDFS \u7684\u6307\u5b9a\u76ee\u5f55\u4e0b")))),(0,l.kt)("h2",{id:"rdd-\u4f9d\u8d56\u5173\u7cfb"},"RDD \u4f9d\u8d56\u5173\u7cfb"),(0,l.kt)("p",null,"\u5728\u8ba1\u7b97\u903b\u8f91\u4e2d\uff0c\u4e0d\u53ef\u907f\u514d\u7684\u4f1a\u51fa\u73b0 RDD \u8f6c\u6362\u7684\u8fc7\u7a0b\uff0c\u5373\u65e7\u7684 RDD \u8c03\u7528\u8f6c\u6362\u7b97\u5b50\u751f\u6210\u65b0\u7684 RDD\u3002"),(0,l.kt)("p",null,"\u901a\u5e38\uff0c\u6211\u4eec\u79f0\u65e7 RDD \u4e3a\u7236 RDD\uff0c\u65b0 RDD \u4e3a\u5b50 RDD\u3002\u5728\u8fd9\u4e2a\u8f6c\u6362\u7684\u8fc7\u7a0b\u91cc\uff0c\u65b0\u65e7 RDD \u81ea\u7136\u4f1a\u5efa\u7acb\u8d77\u7c7b\u4f3c\u7236\u5b50\u7684\u8054\u7cfb\uff0c\u8fd9\u4e2a\u8054\u7cfb\u4ece\u6982\u5ff5\u6765\u8bf4\u4fbf\u662f RDD \u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u5728\u4ee3\u7801\u5c42\u9762\u7531\u62bd\u8c61\u7c7b ",(0,l.kt)("strong",{parentName:"p"},"Dependency "),"\u8868\u793a\u3002"),(0,l.kt)("p",null,"\u4e3a\u4e86\u66f4\u76f4\u89c2\u5730\u7406\u89e3 RDD \u7684\u4f9d\u8d56\u5173\u7cfb\u53ca\u4ea7\u751f\u8fc7\u7a0b\uff0c\u6211\u4eec\u53ef\u4ee5\u53c2\u8003 RDD \u7684\u521b\u5efa\u65b9\u6cd5 ",(0,l.kt)("inlineCode",{parentName:"p"},"sc.textFile(...)"),"\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-scala"},"// \u4ee3\u7801\u7247\u6bb5 1\ndef textFile(\n    path: String,\n    minPartitions: Int = defaultMinPartitions): RDD[String] = withScope {\n  // ...\n  \n  // \u521b\u5efa HadoopRDD\uff0c\u5e76\u8c03\u7528 map \u7b97\u5b50\u8f6c\u6362\u6210 MapPartitionsRDD\n  hadoopFile(path, classOf[TextInputFormat], classOf[LongWritable], classOf[Text],\n    minPartitions).map(pair => pair._2.toString).setName(path)\n}\n\n// \u4ee3\u7801\u7247\u6bb5 2\ndef hadoopFile[K, V](\n    path: String,\n    inputFormatClass: Class[_ <: InputFormat[K, V]],\n    keyClass: Class[K],\n    valueClass: Class[V],\n    minPartitions: Int = defaultMinPartitions): RDD[(K, V)] = withScope {\n  // ...\n  new HadoopRDD(\n    this,\n    confBroadcast,\n    Some(setInputPathsFunc),\n    inputFormatClass,\n    keyClass,\n    valueClass,\n    minPartitions).setName(path)\n}\n\n// \u4ee3\u7801\u7247\u6bb5 3\ndef map[U: ClassTag](f: T => U): RDD[U] = withScope {\n  // ...\n  new MapPartitionsRDD[U, T](this, (_, _, iter) => iter.map(cleanF))\n}\n\n// \u4ee3\u7801\u7247\u6bb5 4\nprivate[spark] class MapPartitionsRDD[U: ClassTag, T: ClassTag](\n    var prev: RDD[T],\n    f: (TaskContext, Int, Iterator[T]) => Iterator[U],  // (TaskContext, partition index, iterator)\n    preservesPartitioning: Boolean = false,\n    isFromBarrier: Boolean = false,\n    isOrderSensitive: Boolean = false)\n  extends RDD[U](prev)\n\n// \u4ee3\u7801\u7247\u6bb5 5\ndef this(@transient oneParent: RDD[_]) =\n  this(oneParent.context, List(new OneToOneDependency(oneParent)))\n")),(0,l.kt)("p",null,"\u5728\u8fd9\u4e2a\u521b\u5efa RDD \u7684\u65b9\u6cd5\u4e2d\uff0c\u5177\u4f53\u4f1a\u7ecf\u5386\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"hadoopFile")," \u65b9\u6cd5\u521b\u5efa HadoopRDD"),(0,l.kt)("li",{parentName:"ol"},"\u7531 HadoopRDD \u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"map")," \u7b97\u5b50\u8f6c\u6362\u751f\u6210 MapPartitionsRDD"),(0,l.kt)("li",{parentName:"ol"},"MapPartitionsRDD \u751f\u6210\u65f6\uff0c\u4f1a\u901a\u8fc7\u7236\u7c7b RDD \u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"this(...)")," \u65b9\u6cd5\u521b\u5efa\u4e0e HadoopRDD \u95f4\u7684\u4f9d\u8d56\u5173\u7cfb")),(0,l.kt)("p",null,"\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7\u56fe\u4f8b\u6765\u8868\u793a\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{src:a(8293).Z,width:"1725",height:"164"})),(0,l.kt)("p",null,"\u5f53\u7136\uff0c\u540c RDD \u4e00\u6837\uff0cRDD \u7684 Dependency \u4e5f\u6709\u591a\u79cd\u5b9e\u73b0\uff0c\u5176\u7c7b\u578b\u548c\u4ea7\u751f\u8fc7\u7a0b\u4e5f\u4f1a\u6839\u636e RDD \u5b9e\u73b0\u7c7b\u7684\u4e0d\u540c\u800c\u4e0d\u540c\u3002\u4f46\u5927\u4f53\u4e0a\uff0c\u53ef\u5206\u4e3a\u4e24\u7c7b\uff1a",(0,l.kt)("strong",{parentName:"p"},"\u5bbd\u4f9d\u8d56\uff08Wide Dependency\uff09"),"\u4e0e",(0,l.kt)("strong",{parentName:"p"}," \u7a84\u4f9d\u8d56\uff08Narrow Dependency\uff09"),"\u3002"),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"\u638c\u63e1\u5bbd\u7a84\u4f9d\u8d56\uff0c\u662f\u540e\u7eed\u5b66\u4e60 RDD \u9636\u6bb5\u5212\u5206\u7684\u57fa\u7840\uff0c\u800c RDD \u9636\u6bb5\u5212\u5206\uff0c\u53c8\u662f\u5b66\u4e60 Spark \u4efb\u52a1\u5212\u5206\u7684\u524d\u63d0\u3002\u8fd9\u4e00\u7cfb\u5217\u77e5\u8bc6\uff0c\u5c06\u6709\u52a9\u4e8e\u6211\u4eec\u4e86\u89e3\u4e00\u4e2a\u8ba1\u7b97\u5e94\u7528\u5728\u63d0\u4ea4\u540e\u7684\u6267\u884c\u8fc7\u7a0b\u3002 ")),(0,l.kt)("h3",{id:"\u7a84\u4f9d\u8d56"},"\u7a84\u4f9d\u8d56"),(0,l.kt)("p",null,"\u7a84\u4f9d\u8d56\u5b58\u5728\u4e24\u79cd\u5b9e\u73b0\u7c7b\uff0c\u5206\u522b\u662f ",(0,l.kt)("strong",{parentName:"p"},"OneToOneDependency"),"\u548c ",(0,l.kt)("strong",{parentName:"p"},"RangeDependency"),"\uff0c\u5b83\u4e3b\u8981\u8868\u73b0\u4e3a ",(0,l.kt)("strong",{parentName:"p"},"\u7236 RDD \u7684\u6bcf\u4e2a\u5206\u533a\u6700\u591a\u88ab\u5b50 RDD \u7684\u4e00\u4e2a\u5206\u533a\u6240\u4f7f\u7528"),"\u3002"),(0,l.kt)("p",null,"\u7a84\u4f9d\u8d56\u901a\u5e38\u5b58\u5728\u4e8e ",(0,l.kt)("inlineCode",{parentName:"p"},"map"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"filter"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"union")," \u7b49\u8f6c\u6362\u64cd\u4f5c\u4e2d\uff0c\u8fd9\u4e9b\u8f6c\u6362\u64cd\u4f5c\u7684\u5171\u540c\u70b9\u4e3a ",(0,l.kt)("strong",{parentName:"p"},"\u4e00\u4e2a\u8f93\u5165\u5206\u533a\u5bf9\u5e94\u4e8e\u4e00\u4e2a\u8f93\u51fa\u5206\u533a"),"\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{src:a(7553).Z,width:"1770",height:"1113"})),(0,l.kt)("h3",{id:"\u5bbd\u4f9d\u8d56"},"\u5bbd\u4f9d\u8d56"),(0,l.kt)("p",null,"\u5bbd\u4f9d\u8d56\u4ec5\u6709 ",(0,l.kt)("strong",{parentName:"p"},"ShuffleDependency "),"\u4e00\u4e2a\u5b9e\u73b0\u7c7b\uff0c\u5b83\u4e3b\u8981\u8868\u73b0\u4e3a ",(0,l.kt)("strong",{parentName:"p"},"\u7236 RDD \u7684\u6bcf\u4e2a\u5206\u533a\u5bf9\u5e94\u5b50 RDD \u7684\u591a\u4e2a\u5206\u533a"),"\u3002"),(0,l.kt)("p",null,"\u5bbd\u4f9d\u8d56\u901a\u5e38\u53d1\u751f\u5728 ",(0,l.kt)("inlineCode",{parentName:"p"},"groupByKey"),"\u3001",(0,l.kt)("inlineCode",{parentName:"p"},"reduceByKey")," \u7b49\u8f6c\u6362\u64cd\u4f5c\u4e2d\uff0c\u8fd9\u4e9b\u8f6c\u6362\u64cd\u4f5c\u901a\u5e38\u4f1a\u5bfc\u81f4 shuffle \u7684\u53d1\u751f\uff0c\u5982\u4e0b\u56fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{src:a(8890).Z,width:"1830",height:"703"})),(0,l.kt)("p",null,"\u4e0e\u7a84\u4f9d\u8d56\u4e0d\u540c\uff0cShuffleDependency \u4e2d\u5305\u542b\u7740\u5927\u91cf\u7684\u4fe1\u606f\uff0c\u5176\u4e3b\u8981\u53d8\u91cf\u5982\u4e0b\u6240\u793a\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"_rdd"),"\uff1a\u6307\u5411\u7236 RDD"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"partitioner"),"\uff1ashuffle \u8fc7\u7a0b\u4e2d\u51b3\u5b9a\u6570\u636e\u8f93\u51fa\u5206\u533a\u7684\u5206\u533a\u5668"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"serializer"),"\uff1a\u5e8f\u5217\u5316\u5668\uff0c\u53ef\u7531\u914d\u7f6e ",(0,l.kt)("inlineCode",{parentName:"li"},"spark.serializer")," \u6307\u5b9a"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"keyOrdering"),"\uff1a\u6307\u5b9a shuffle \u8fc7\u7a0b\u4e2d key \u7684\u6392\u5e8f\u89c4\u5219\uff0c\u82e5\u4e3a\u7a7a\uff0c\u9ed8\u8ba4\u4f7f\u7528 hash \u6392\u5e8f"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"aggregator"),"\uff1a\u6307\u5b9a shuffle \u8fc7\u7a0b\u4e2d\u7684\u805a\u5408\u5668"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"mapSideCombine"),"\uff1a\u662f\u5426\u9700\u8981 map \u7aef\u805a\u5408\uff0c\u82e5\u662f\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"aggregator")," \u5fc5\u987b\u6709\u503c"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"shuffleWriterProcessor"),"\uff1aShuffleMapTask \u4e2d\u7528\u4e8e\u63a7\u5236\u5199\u51fa\u884c\u4e3a\u7684\u5904\u7406\u5668"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"shuffleId"),"\uff1ashuffle \u7684\u539f\u5b50\u6027\u8ba1\u6570\uff0c\u7531 ",(0,l.kt)("inlineCode",{parentName:"li"},"0")," \u5f00\u59cb\u9012\u589e"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"shuffleHandle"),"\uff1a\u7528\u4e8e\u51b3\u5b9a shuffle write \u7c7b\u578b\u7684\u5bf9\u8c61")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"ShuffleDependency \u7684\u8fd9\u4e9b\u53d8\u91cf\u4e3b\u8981\u7528\u4e8e shuffle write \u548c shuffle read \u8fc7\u7a0b\u4e2d\u7684\u4fe1\u606f\u4f20\u9012\u3002"),"\u5bf9\u4e8e\u521d\u5b66\u8005\u6765\u8bf4\uff0c\u60f3\u76f4\u63a5\u7406\u89e3\u900f ShuffleDependency \u663e\u7136\u662f\u4e0d\u73b0\u5b9e\u7684\uff0c\u7b14\u8005\u5efa\u8bae\u5728\u5927\u81f4\u4e86\u89e3\u4e86 shuffle \u7684\u8fc7\u7a0b\u540e\u518d\u56de\u8fc7\u5934\u6765\u7ec6\u770b\u8fd9\u90e8\u5206\u5185\u5bb9\u3002"),(0,l.kt)("admonition",{type:"caution"},(0,l.kt)("p",{parentName:"admonition"},"\u5728 ShuffleDependency \u4e2d\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"_rdd")," \u4f7f\u7528\u4e86\u5173\u952e\u5b57 ",(0,l.kt)("inlineCode",{parentName:"p"},"transient")," \u8fdb\u884c\u4fee\u9970\u3002 \u8fd9\u662f\u56e0\u4e3a\uff0c\u5728 Executor \u7aef\uff0c\u5e76\u4e0d\u9700\u8981 ",(0,l.kt)("inlineCode",{parentName:"p"},"_rdd")," \u7684\u4fe1\u606f\uff0c\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"transient")," \u4fee\u9970\u53ef\u4ee5\u51cf\u5c11\u7f51\u7edc\u4f20\u8f93\u4e2d\u7684\u5e8f\u5217\u5316\u5de5\u4f5c\u3002")),(0,l.kt)("h2",{id:"rdd-\u8840\u7f18\u5173\u7cfb"},"RDD \u8840\u7f18\u5173\u7cfb"),(0,l.kt)("p",null,"\u8840\u7f18\u5173\u7cfb\u662f RDD \u7684\u91cd\u8981\u7279\u6027\u4e4b\u4e00\uff0c\u57fa\u4e8e RDD \u6838\u5fc3\u5c5e\u6027 ",(0,l.kt)("inlineCode",{parentName:"p"},"dependencies")," \u5b9e\u73b0\uff0c\u5b83\u63cf\u8ff0\u4e86\u4e00\u4e2a RDD \u662f\u5982\u4f55\u4ece\u521d\u59cb RDD \u8ba1\u7b97\u5f97\u6765\u7684\u3002"),(0,l.kt)("p",null,"\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"toDebugString()")," \u65b9\u6cd5\u6253\u5370\u51fa\u8fd9\u4e2a\u4fe1\u606f\uff0c\u4f8b\u5982\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-\u7eaf\u6587\u672c"},"(3) MapPartitionsRDD[2] at flatMap at WordCount.scala:21 []\n |  data/* MapPartitionsRDD[1] at textFile at WordCount.scala:15 []\n |  data/* HadoopRDD[0] at textFile at WordCount.scala:15 []\n")),(0,l.kt)("p",null,"\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7\u56fe\u4f8b\u6765\u76f4\u89c2\u5730\u8ba4\u8bc6\u8840\u7f18\u5173\u7cfb\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{src:a(7156).Z,width:"1245",height:"255"})),(0,l.kt)("p",null,"\u56fe\u4f8b\u5c55\u73b0\u4e86\u4e00\u4e2a Spark \u5e94\u7528\u4ece\u8f93\u5165\u5230\u8f93\u51fa\u7684\u8fc7\u7a0b\u3002\u5728\u8be5\u8fc7\u7a0b\u4e2d\uff0c\u5b58\u5728\u7740\u4e00\u7cfb\u5217 RDD \u7684\u521b\u5efa\u4e0e\u8f6c\u6362\uff0cSpark \u4f1a\u8bb0\u5f55\u8f6c\u6362\u8fc7\u7a0b\u4e2d\u5404\u4e2a RDD \u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u5e76\u5728 RDD F \u8c03\u7528\u884c\u52a8\u7b97\u5b50\u540e\u6784\u5efa DAG \u56fe\uff0c\u89e6\u53d1\u771f\u6b63\u7684\u8ba1\u7b97\u3002"),(0,l.kt)("p",null,"\u5c06\u4e0a\u8ff0\u8fc7\u7a0b\u4e2d RDD \u7684\u4f9d\u8d56\u5173\u7cfb\u4e32\u8054\u8d77\u6765\uff0c\u4fbf\u5f62\u6210\u4e00\u4e2a\u8840\u7f18\u5173\u7cfb\uff08Lineage\uff09\u3002\u5728\u8840\u7f18\u5173\u7cfb\u4e2d\uff0c\u4e0b\u4e00\u4ee3\u7684 RDD \u4f9d\u8d56\u4e8e\u4e0a\u4e00\u4ee3\u7684 RDD\u3002\u4ee5\u56fe\u4f8b\u8bf4\u660e\uff0cB \u4f9d\u8d56\u4e8e A\uff0cD \u4f9d\u8d56\u4e8e C\uff0cE \u4f9d\u8d56\u4e8e B \u548c D\u3002"),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"\u8840\u7f18\u5173\u7cfb\u7684\u5b58\u5728\u4f7f RDD \u5177\u5907\u4e86\u5bb9\u9519\u6027\u3002\u5f53 RDD \u7684\u90e8\u5206\u5206\u533a\u6570\u636e\u4e22\u5931\u65f6\uff0cSpark \u53ef\u4ee5\u901a\u8fc7\u8840\u7f18\u5173\u7cfb\u83b7\u53d6\u8db3\u591f\u7684\u5173\u8054\u4fe1\u606f\uff0c\u8fdb\u800c\u91cd\u65b0\u8ba1\u7b97\u5e76\u6062\u590d\u4e22\u5931\u7684\u5206\u533a\u3002")),(0,l.kt)("h2",{id:"rdd-\u6301\u4e45\u5316"},"RDD \u6301\u4e45\u5316"),(0,l.kt)("p",null,"RDD \u6301\u4e45\u5316\u662f Spark \u4e2d\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u7279\u6027\u3002\u901a\u8fc7\u8fd9\u4e2a\u7279\u6027\uff0cSpark \u53ef\u4ee5\u5728\u5185\u5b58\u6216\u78c1\u76d8\u7f13\u5b58\u67d0\u4e2a RDD\uff0c\u5f53\u5176\u4ed6\u884c\u52a8\u7b97\u5b50\u9700\u8981\u8fd9\u4e2a RDD \u65f6\u76f4\u63a5\u590d\u7528\u5b83\uff0c\u4ee5 ",(0,l.kt)("strong",{parentName:"p"},"\u907f\u514d\u91cd\u65b0\u8ba1\u7b97"),"\uff0c\u8fdb\u800c\u63d0\u9ad8\u6027\u80fd\u3002"),(0,l.kt)("h3",{id:"\u56fe\u89e3\u8bf4\u660e"},"\u56fe\u89e3\u8bf4\u660e"),(0,l.kt)("p",null,"\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u4f8b\u5b50\u5bf9 RDD \u6301\u4e45\u5316\u5c55\u5f00\u8bf4\u660e\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{src:a(3817).Z,width:"1422",height:"414"})),(0,l.kt)("p",null,"\u5047\u8bbe\u67d0\u4e2a\u8ba1\u7b97\u4efb\u52a1\u6709 3 \u4e2a\u9636\u6bb5\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"STEP 01 \u4ece HDFS \u8bfb\u53d6\u6587\u4ef6\u5e76\u521b\u5efa RDD A"),(0,l.kt)("li",{parentName:"ul"},"STEP 02 \u901a\u8fc7\u8f6c\u6362\u7b97\u5b50\u57fa\u4e8e RDD A \u751f\u6210 RDD B"),(0,l.kt)("li",{parentName:"ul"},"STEP 03 \u901a\u8fc7\u884c\u52a8\u7b97\u5b50\u57fa\u4e8e RDD B \u8f93\u51fa\u4e24\u4e2a\u7ed3\u679c")),(0,l.kt)("p",null,"\u5982\u679c\u6ca1\u6709\u7f13\u5b58\u673a\u5236\uff0cSTEP 03 \u5c06\u4f1a\u89e6\u53d1\u4e24\u6b21\u5b8c\u6574\u7684\u8ba1\u7b97\uff0c\u5373 STEP 01 \u2192 STEP 02 \u2192 STEP 03 \u5c06\u5b8c\u6574\u6267\u884c\u4e24\u6b21\u3002"),(0,l.kt)("p",null,"\u5982\u679c\u4f7f\u7528\u4e86\u7f13\u5b58\u673a\u5236\uff0cSTEP 03 \u5728\u8f93\u51fa result2 \u65f6\uff0c\u5c06\u76f4\u63a5\u590d\u7528 result1 \u4e2d\u5df2\u7f13\u5b58\u7684 RDD B\uff0cRDD B \u4e4b\u524d\u7684\u8ba1\u7b97\u73af\u8282\u4e0d\u4f1a\u88ab\u91cd\u65b0\u6267\u884c\u3002"),(0,l.kt)("h3",{id:"\u590d\u7528\u539f\u7406"},"\u590d\u7528\u539f\u7406"),(0,l.kt)("p",null,"\u56fe\u89e3\u90e8\u5206\u6211\u4eec\u63d0\u5230\uff0c\u5f53\u4f7f\u7528\u7f13\u5b58\u673a\u5236\u65f6\uff0cRDD B \u7684\u8ba1\u7b97\u7ed3\u679c\u4f1a\u88ab\u76f4\u63a5\u590d\u7528\uff0c\u5176\u8ba1\u7b97\u73af\u8282\u4e0d\u4f1a\u88ab\u91cd\u65b0\u6267\u884c\u3002\u90a3\u4e48\uff0c\u8fd9\u4e2a\u201c\u4e0d\u4f1a\u88ab\u91cd\u65b0\u6267\u884c\u201d\u5e94\u8be5\u5982\u4f55\u7406\u89e3\uff1f\u8fd9\u91cc\u5217\u4e3e\u4e24\u79cd\u5e38\u89c1\u601d\u8def\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u57fa\u4e8e RDD B \u62c6\u89e3\u51fa\u7684\u8ba1\u7b97\u4efb\u52a1\u4e0d\u4f1a\u88ab\u8c03\u5ea6\uff0c\u81ea\u7136\u4e0d\u4f1a\u91cd\u590d\u8ba1\u7b97"),(0,l.kt)("li",{parentName:"ul"},"\u57fa\u4e8e RDD B \u62c6\u89e3\u51fa\u7684\u8ba1\u7b97\u4efb\u52a1\u4f1a\u88ab\u8c03\u5ea6\uff0c\u4f46\u662f\u8ba1\u7b97\u8fc7\u7a0b\u4e2d\u4f1a\u76f4\u63a5\u8bfb\u53d6\u7f13\u5b58\u7684\u503c\uff0c\u4e0d\u4f1a\u91cd\u590d\u8ba1\u7b97")),(0,l.kt)("p",null,"\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u5148\u5c1d\u8bd5\u4ece\u8f93\u51fa\u65e5\u5fd7\u5bfb\u627e\u7b54\u6848\u3002"),(0,l.kt)("p",null,"\u4ee5\u4e0b\u4e3a\u672a\u4f7f\u7528\u7f13\u5b58\u673a\u5236\u65f6\u7684\u65e5\u5fd7\u7247\u6bb5\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-text"},"Starting task 0.0 in stage 2.0 (TID 6) (10.6.30.80, executor driver, partition 0, PROCESS_LOCAL, 4504 bytes) taskResourceAssignments Map()\nRunning task 0.0 in stage 2.0 (TID 6)\n**Input split: file:/E:/project/scala/spark-study/data/wc.txt:0+26**\nFinished task 0.0 in stage 2.0 (TID 6). 1204 bytes result sent to driver\n")),(0,l.kt)("p",null,"\u4ee5\u4e0b\u4e3a\u4f7f\u7528\u7f13\u5b58\u673a\u5236\u65f6\u7684\u65e5\u5fd7\u7247\u6bb5\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-\u7eaf\u6587\u672c"},"Starting task 0.0 in stage 2.0 (TID 6) (10.6.30.80, executor driver, partition 0, PROCESS_LOCAL, 4504 bytes) taskResourceAssignments Map()\nRunning task 0.0 in stage 2.0 (TID 6)\n**Found block rdd_3_0 locally**\nFinished task 0.0 in stage 2.0 (TID 6). 1204 bytes result sent to driver\n")),(0,l.kt)("p",null,"\u901a\u8fc7\u65e5\u5fd7\u7247\u6bb5\uff0c\u53ef\u4ee5\u786e\u8ba4\u4e24\u4e2a\u5173\u952e\u4fe1\u606f\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u65e0\u8bba\u7f13\u5b58\u662f\u5426\u5f00\u542f\uff0c\u57fa\u4e8e RDD B \u62c6\u89e3\u51fa\u7684\u8ba1\u7b97\u4efb\u52a1\u90fd\u4f1a\u88ab\u91cd\u590d\u8c03\u5ea6"),(0,l.kt)("li",{parentName:"ul"},"\u57fa\u4e8e RDD B \u62c6\u89e3\u51fa\u7684\u8ba1\u7b97\u4efb\u52a1\u5728\u91cd\u590d\u53d1\u5e03\u5230 Executor \u6267\u884c\u65f6\uff0c\u4f1a\u76f4\u63a5\u8bfb\u53d6\u7f13\u5b58\u4e2d\u7684\u8ba1\u7b97\u7ed3\u679c\uff0c\u4e0d\u4f1a\u89e6\u53d1\u5b9e\u9645\u7684\u8ba1\u7b97")),(0,l.kt)("p",null,"\u4e3a\u4e86\u9a8c\u8bc1\u7b2c\u4e8c\u70b9\u7684\u6b63\u786e\u6027\uff0c\u6211\u4eec\u8ddf\u8e2a\u4e86 Executor \u7aef\u6267\u884c\u4efb\u52a1\u7684\u6e90\u7801\uff0c\u5177\u4f53\u8fc7\u7a0b\u5982\u4e0b\u56fe\u6240\u793a\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{src:a(7869).Z,width:"2142",height:"1043"})),(0,l.kt)("p",null,"\u5176\u4e2d ",(0,l.kt)("strong",{parentName:"p"},"\u6b65\u9aa4 4")," \u7684 BlockResult \u4fbf\u662f\u6211\u4eec\u60f3\u8981\u7684\u7f13\u5b58\u7ed3\u679c\u3002\u82e5 BlockResult \u6709\u503c\uff0c\u76f4\u63a5\u8fd4\u56de\u7ed9 Executor\uff0c\u4e0d\u518d\u89e6\u53d1\u8ba1\u7b97\uff1b\u82e5 BlockResult \u4e3a\u7a7a\uff0c\u5219\u9700\u8981\u6267\u884c\u8ba1\u7b97\u518d\u8fd4\u56de\u7ed3\u679c\u3002\u5177\u4f53\u7684\u5b9e\u73b0\u6e90\u7801\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-scala"},'def getOrElseUpdate[T](\n    blockId: BlockId,\n    level: StorageLevel,\n    classTag: ClassTag[T],\n    makeIterator: () => Iterator[T]): Either[BlockResult, Iterator[T]] = {\n  // Attempt to read the block from local or remote storage. If it\'s present, then we don\'t need\n  // to go through the local-get-or-put path.\n  get[T](blockId)(classTag) match {\n    case Some(block) =>\n      return Left(block)\n    case _ =>\n      // Need to compute the block.\n  }\n  // ...\n}\n\ndef get[T: ClassTag](blockId: BlockId): Option[BlockResult] = {\n  val local = getLocalValues(blockId)\n  if (local.isDefined) {\n    logInfo(s"Found block $blockId locally")\n    return local\n  }\n  val remote = getRemoteValues[T](blockId)\n  if (remote.isDefined) {\n    logInfo(s"Found block $blockId remotely")\n    return remote\n  }\n  None\n}\n')),(0,l.kt)("h3",{id:"\u5b58\u50a8\u7ea7\u522b"},"\u5b58\u50a8\u7ea7\u522b"),(0,l.kt)("p",null,"\u5728\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"cache()")," \u65b9\u6cd5\u6216\u8005 ",(0,l.kt)("inlineCode",{parentName:"p"},"persist()")," \u65b9\u6cd5\u6765\u6307\u5b9a\u6301\u4e45\u5316\u3002\u5176\u4e2d\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"persist()")," \u65b9\u6cd5\u5b58\u5728\u4e00\u4e2a\u540d\u4e3a ",(0,l.kt)("strong",{parentName:"p"},"\u5b58\u50a8\u7ea7\u522b")," \u7684\u53c2\u6570\uff0c\u8be5\u53c2\u6570\u5c06\u51b3\u5b9a RDD \u6301\u4e45\u5316\u5177\u4f53\u7684\u5b58\u50a8\u4f4d\u7f6e\u4e0e\u5b58\u50a8\u884c\u4e3a\u3002"),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},(0,l.kt)("inlineCode",{parentName:"p"},"cache()")," \u5b9e\u9645\u4e0a\u8c03\u7528\u7684\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"persist(StorageLevel.MEMORY_ONLY)")," \u65b9\u6cd5\uff0c\u5373\u57fa\u4e8e\u5185\u5b58\u7f13\u5b58 RDD\u3002")),(0,l.kt)("p",null,"\u76ee\u524d\uff0cRDD \u5df2\u652f\u6301\u7684\u5b58\u50a8\u7ea7\u522b\u5982\u4e0b\u8868\u6240\u793a\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"\u6301\u4e45\u5316\u7ea7\u522b")),(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"th"},"\u542b\u4e49")))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"MEMORY_ONLY"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06 RDD \u4ee5\u53cd\u5e8f\u5217\u5316 Java \u5bf9\u8c61\u7684\u5f62\u5f0f\u5b58\u50a8\u5728 JVM \u4e2d\uff0c\u5982\u679c\u5927\u5c0f\u8d85\u8fc7\u53ef\u7528\u5185\u5b58\uff0c\u5219\u8d85\u51fa\u90e8\u5206\u4e0d\u4f1a\u7f13\u5b58\uff0c\u9700\u91cd\u65b0\u8ba1\u7b97")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"MEMORY_AND_DISK"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06 RDD \u4ee5\u53cd\u5e8f\u5217\u5316 Java \u5bf9\u8c61\u7684\u5f62\u5f0f\u5b58\u50a8\u5728 JVM \u4e2d\uff0c\u5982\u679c\u5927\u5c0f\u8d85\u8fc7\u53ef\u7528\u5185\u5b58\uff0c\u5219\u8d85\u51fa\u90e8\u5206\u4f1a\u5b58\u5728\u5728\u78c1\u76d8\u4e0a\uff0c\u5f53\u9700\u8981\u65f6\u4ece\u78c1\u76d8\u8bfb\u53d6")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"DISK_ONLY"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06\u6240\u6709 RDD \u5206\u533a\u5b58\u50a8\u5230\u78c1\u76d8\u4e0a")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"MEMORY_ONLY_SER"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06 RDD \u4ee5\u5e8f\u5217\u5316 Java \u5bf9\u8c61\u7684\u5f62\u5f0f\u5b58\u50a8\u5728 JVM \u4e2d\uff0c\u5177\u6709\u66f4\u597d\u7684\u7a7a\u95f4\u5229\u7528\u7387\uff0c\u4f46\u662f\u9700\u8981\u5360\u7528\u66f4\u591a\u7684 CPU \u8d44\u6e90")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"MEMORY_AND_DISK_SER"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5c06 RDD \u4ee5\u5e8f\u5217\u5316 Java \u5bf9\u8c61\u7684\u5f62\u5f0f\u5b58\u50a8\u5728 JVM \u4e2d\uff0c\u5982\u679c\u5927\u5c0f\u8d85\u8fc7\u53ef\u7528\u5185\u5b58\uff0c\u5219\u8d85\u51fa\u90e8\u5206\u4f1a\u5b58\u5728\u5728\u78c1\u76d8\u4e0a\uff0c\u65e0\u9700\u91cd\u65b0\u8ba1\u7b97")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"MEMORY_ONLY_2"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4e0e MEMORY_ONLY \u7ea7\u522b\u76f8\u540c\uff0c\u5b58\u5728\u526f\u672c")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"MEMORY_AND_DISK_2"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4e0e MEMORY_AND_DISK \u7ea7\u522b\u76f8\u540c\uff0c\u5b58\u5728\u526f\u672c")))),(0,l.kt)("p",null,"\u5bf9\u4e8e\u5b58\u50a8\u7ea7\u522b\u7684\u9009\u62e9\uff0c\u5b98\u65b9\u7ed9\u51fa\u4e86\u4ee5\u4e0b\u5efa\u8bae\uff1a"),(0,l.kt)("hr",null),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Tip 01")," \u5982\u679c RDD \u4e0e\u9ed8\u8ba4\u5b58\u50a8\u7ea7\u522b ",(0,l.kt)("inlineCode",{parentName:"p"},"MEMORY_ONLY")," \u5951\u5408\uff0c\u5c31\u9009\u62e9\u9ed8\u8ba4\u5b58\u50a8\u7ea7\u522b\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Tip 02")," \u5982\u679c RDD \u4e0e\u9ed8\u8ba4\u5b58\u50a8\u7ea7\u522b ",(0,l.kt)("inlineCode",{parentName:"p"},"MEMORY_ONLY")," \u4e0d\u5951\u5408\uff0c\u5219\u5c1d\u8bd5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"MEMORY_ONLY_SER")," \u5e76\u9009\u62e9\u4e00\u4e2a\u5408\u9002\u7684\u5e8f\u5217\u5316\u5e93\uff0c\u8fd9\u652f\u6301 Spark \u5728\u5177\u5907\u8f83\u9ad8\u7a7a\u95f4\u5229\u7528\u7387\u7684\u60c5\u51b5\u4e0b\u4f9d\u65e7\u652f\u6301\u5feb\u901f\u8bbf\u95ee\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Tip 03")," \u5c3d\u91cf\u4e0d\u8981\u5c06\u7f13\u5b58\u6570\u636e\u5199\u5230\u78c1\u76d8\u4e0a\uff0c\u9664\u975e\u6570\u636e\u91cf\u7279\u522b\u5927\u6216\u8005\u9700\u8981\u8fc7\u6ee4\u5927\u91cf\u6570\u636e\uff0c\u56e0\u4e3a\u91cd\u65b0\u8ba1\u7b97\u7684\u901f\u5ea6\u4e0e\u4ece\u786c\u76d8\u8bfb\u53d6\u6570\u636e\u7684\u901f\u5ea6\u76f8\u5dee\u4e0d\u591a\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Tip 04 ")," \u5982\u679c\u60f3\u8981\u5177\u5907\u6545\u969c\u5feb\u901f\u6062\u590d\u80fd\u529b\uff0c\u53ef\u4ee5\u9009\u62e9\u5e26\u6709\u526f\u672c\u7684\u5b58\u50a8\u7ea7\u522b\u3002\u5f53\u7136\uff0c\u6ca1\u6709\u526f\u672c\u7684\u5b58\u50a8\u7ea7\u522b\u5e76\u975e\u662f\u4e0d\u5b89\u5168\u7684\uff0c\u5b83\u4eec\u540c\u6837\u5177\u5907\u5bb9\u9519\u673a\u5236\uff0c\u53ea\u662f\u5728\u6545\u969c\u6062\u590d\u65f6\u9700\u8981\u91cd\u65b0\u8ba1\u7b97\uff0c\u65e0\u6cd5\u50cf\u5e26\u6709\u526f\u672c\u7684\u5b58\u50a8\u7ea7\u522b\u90a3\u6837\u76f4\u63a5\u901a\u8fc7\u526f\u672c\u6062\u590d\u3002"),(0,l.kt)("h2",{id:"rdd-\u68c0\u67e5\u70b9"},"RDD \u68c0\u67e5\u70b9"),(0,l.kt)("p",null,"\u68c0\u67e5\u70b9\u662f RDD \u7684\u4e00\u79cd\u5bb9\u9519\u4fdd\u969c\u673a\u5236\uff0c\u7531 RDD \u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"checkpoint()")," \u65b9\u6cd5\u89e6\u53d1\u3002\u5b83\u4e3b\u8981\u505a\u4e86\u4e24\u4ef6\u4e8b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u91cd\u65b0\u8ba1\u7b97\u8c03\u7528\u4e86 ",(0,l.kt)("inlineCode",{parentName:"li"},"checkpoint()")," \u65b9\u6cd5\u7684 RDD\uff0c\u5e76\u5c06\u8ba1\u7b97\u7ed3\u679c\u4fdd\u5b58\u81f3\u5916\u90e8\u5b58\u50a8\uff08\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u3001\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u7b49\uff09"),(0,l.kt)("li",{parentName:"ul"},"\u5207\u65ad\u539f\u6709\u7684\u8840\u7f18\u5173\u7cfb")),(0,l.kt)("p",null,"\u4e4d\u770b\u4e4b\u4e0b\uff0c\u4f1a\u89c9\u5f97\u68c0\u67e5\u70b9\u4e0e\u6301\u4e45\u5316\u975e\u5e38\u76f8\u4f3c\uff0c\u90fd\u6709\u4fdd\u5b58 RDD \u8ba1\u7b97\u7ed3\u679c\u7684\u529f\u80fd\uff0c\u4f46\u5b9e\u9645\u4e0a\u4e24\u8005\u8fd8\u662f\u6709\u6240\u533a\u522b\u7684\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u533a\u522b\u9879"),(0,l.kt)("th",{parentName:"tr",align:null},"RDD \u6301\u4e45\u5316"),(0,l.kt)("th",{parentName:"tr",align:null},"RDD \u68c0\u67e5\u70b9"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u751f\u547d\u5468\u671f"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5e94\u7528\u7ed3\u675f\u4fbf\u5220\u9664"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6c38\u4e45\u4fdd\u5b58")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u8840\u7f18\u5173\u7cfb"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4e0d\u5207\u65ad"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5207\u65ad")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"\u4f7f\u7528\u573a\u666f"),(0,l.kt)("td",{parentName:"tr",align:null},"\u652f\u6301\u5728\u540c\u4e00\u4e2a\u5e94\u7528\u4e2d\u590d\u7528\u8ba1\u7b97\u7ed3\u679c"),(0,l.kt)("td",{parentName:"tr",align:null},"\u652f\u6301\u5728\u591a\u4e2a\u5e94\u7528\u4e2d\u590d\u7528\u8ba1\u7b97\u7ed3\u679c")))),(0,l.kt)("h3",{id:"\u5b9e\u73b0\u539f\u7406"},"\u5b9e\u73b0\u539f\u7406"),(0,l.kt)("p",null,"RDD \u68c0\u67e5\u70b9\u7684\u5b9e\u73b0\u65b9\u5f0f\u6bd4\u8f83\u7279\u522b\uff0c\u5f53\u6211\u4eec\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"checkpoint()")," \u65b9\u6cd5\u65f6\uff0cRDD \u53ea\u662f\u5c06\u81ea\u8eab\u6807\u8bb0\u4e3a\u68c0\u67e5\u72b6\u6001\uff0c\u5e76\u4e0d\u4f1a\u9a6c\u4e0a\u89e6\u53d1\u68c0\u67e5\u70b9\u5b58\u50a8\uff0c\u5177\u4f53\u5982\u4ee3\u7801\u6240\u793a\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-scala"},'/**\n * Mark this RDD for checkpointing. It will be saved to a file inside the checkpoint\n * directory set with `SparkContext#setCheckpointDir` and all references to its parent\n * RDDs will be removed. **This function must be called before any job has been\n * executed on this RDD. **It is strongly recommended that this RDD is persisted in\n * memory, otherwise saving it on a file will require recomputation.\n */\ndef checkpoint(): Unit = RDDCheckpointData.synchronized {\n  if (context.checkpointDir.isEmpty) {\n    throw new SparkException("Checkpoint directory has not been set in the SparkContext")\n  } else if (checkpointData.isEmpty) {\n    checkpointData = Some(new ReliableRDDCheckpointData(this))\n  }\n}\n')),(0,l.kt)("p",null,"\u90a3\u4e48\uff0cRDD \u7684\u68c0\u67e5\u70b9\u673a\u5236\u7a76\u7adf\u662f\u600e\u6837\u7684\u4e00\u4e2a\u8fc7\u7a0b\u5462\uff1f\u6211\u4eec\u5728\u65b9\u6cd5\u6ce8\u91ca\u4e2d\u6ce8\u610f\u5230\u4e00\u4e2a\u5173\u952e\u4fe1\u606f\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"This function must be called before any job has been * executed on this RDD"),"\u3002\u8fd9\u8868\u660e\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"checkpoint()")," \u9700\u8981\u5728\u8ba1\u7b97\u4f5c\u4e1a\u5f00\u59cb\u6267\u884c\u524d\uff08\u5373\u884c\u52a8\u7b97\u5b50\u89e6\u53d1\u524d\uff09\u8c03\u7528\u3002\u57fa\u4e8e\u6b64\uff0c\u6211\u4eec\u6709\u8db3\u591f\u7684\u7406\u7531\u731c\u6d4b\u68c0\u67e5\u70b9\u673a\u5236\u4e0e\u884c\u52a8\u7b97\u5b50\u7684\u89e6\u53d1\u6709\u5173\u3002\u5728\u9010\u6b65\u6df1\u5165\u884c\u52a8\u7b97\u5b50\u7684\u6e90\u7801\u540e\uff0c\u6211\u4eec\u6700\u7ec8\u5728 SparkContext \u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"runJob")," \u65b9\u6cd5\u4e2d\u53d1\u73b0\u4e86\u68c0\u67e5\u70b9\u673a\u5236\u7684\u8eab\u5f71\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-scala"},"def runJob[T, U: ClassTag](\n    rdd: RDD[T],\n    func: (TaskContext, Iterator[T]) => U,\n    partitions: Seq[Int],\n    resultHandler: (Int, U) => Unit): Unit = {\n  // ...\n  dagScheduler.runJob(rdd, cleanedFunc, partitions, callSite, resultHandler, localProperties.get)\n  progressBar.foreach(_.finishAll())\n  **rdd.doCheckpoint()**\n}\n")),(0,l.kt)("p",null,"\u5176\u4e2d\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"dagScheduler.runJob")," \u4fbf\u662f\u8ba1\u7b97\u4f5c\u4e1a\u7684\u6267\u884c\u5165\u53e3\uff0c\u800c RDD \u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"doCheckpoint()")," \u65b9\u6cd5\u5728\u5176\u4e4b\u540e\u8c03\u7528\u4fbf\u53ef\u8bc1\u660e\u4e00\u4e2a\u7ed3\u8bba\uff1a",(0,l.kt)("strong",{parentName:"p"},"RDD \u7684\u68c0\u67e5\u70b9\u673a\u5236\u4e0e\u8ba1\u7b97\u4f5c\u4e1a\u5e76\u975e\u540c\u6b65\u6267\u884c\uff0c\u5b83\u662f\u5728\u8ba1\u7b97\u4f5c\u4e1a\u6267\u884c\u7ed3\u675f\u540e\u89e6\u53d1\u7684\u3002")),(0,l.kt)("p",null,"\u81f3\u6b64\uff0c\u6211\u4eec\u5df2\u7ecf\u77e5\u6653\u4e86\u68c0\u67e5\u70b9\u673a\u5236\u7684\u89e6\u53d1\u65f6\u673a\uff0c\u4f46\u4ecd\u65e7\u6709\u4e00\u4e2a\u95ee\u9898\uff1a\u68c0\u67e5\u70b9\u673a\u5236\u662f\u5982\u4f55\u4fdd\u5b58\u8ba1\u7b97\u7ed3\u679c\u7684\uff1f"),(0,l.kt)("p",null,"\u4e3a\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u7ee7\u7eed\u6df1\u5165 ",(0,l.kt)("inlineCode",{parentName:"p"},"doCheckpoint()")," \u7684\u6e90\u7801\uff0c\u6700\u7ec8\u5f97\u5230\u4e86\u5982\u4e0b\u7684\u65b9\u6cd5\u8c03\u7528\u94fe\uff1a"),(0,l.kt)("p",null,(0,l.kt)("img",{src:a(4584).Z,width:"2142",height:"843"})),(0,l.kt)("p",null,"\u56fe\u4e2d\u7684 ",(0,l.kt)("strong",{parentName:"p"},"\u6b65\u9aa4 4")," \u8868\u660e\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u68c0\u67e5\u70b9\u673a\u5236\u672c\u8d28\u4e0a\u5c31\u662f\u518d\u6267\u884c\u4e00\u904d RDD \u7684\u8ba1\u7b97\u903b\u8f91\uff0c\u7136\u540e\u5c06\u8ba1\u7b97\u7ed3\u679c\u4fdd\u5b58\u81f3\u5916\u90e8\u5b58\u50a8\u3002")),(0,l.kt)("h3",{id:"\u4f7f\u7528\u793a\u4f8b"},"\u4f7f\u7528\u793a\u4f8b"),(0,l.kt)("p",null,"RDD \u68c0\u67e5\u70b9\u673a\u5236\u7684\u4f7f\u7528\u4e3b\u8981\u5305\u542b\u4e86\u4e24\u4e2a\u9636\u6bb5\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u5199\u51fa\u9636\u6bb5\uff08RDD \u8ba1\u7b97\u7ed3\u679c\u7684\u4fdd\u5b58\uff09"),(0,l.kt)("li",{parentName:"ul"},"\u8bfb\u53d6\u9636\u6bb5\uff08RDD \u8ba1\u7b97\u7ed3\u679c\u7684\u8bfb\u53d6\uff09")),(0,l.kt)("p",null,"\u4ee5\u4e0b\u4e3a\u5b58\u50a8\u9636\u6bb5\u7684\u4ee3\u7801\u793a\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-scala"},'sc.setCheckpointDir("checkpoint")\n\n// ...\n\nrdd.cache()\nrdd.checkpoint()\n\n// ...\n\n// action\n')),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},(0,l.kt)("inlineCode",{parentName:"p"},"setCheckpointDir")," \u65b9\u6cd5\u53c2\u6570\u4e2d\u7684\u76ee\u5f55\u5730\u5740\u53ef\u4ee5\u662f\u672c\u5730\u5730\u5740\u4e5f\u53ef\u4ee5\u662f\u5206\u5e03\u5f0f\u6587\u4ef6\u7cfb\u7edf\u7684\u5730\u5740\u3002")),(0,l.kt)("admonition",{type:"caution"},(0,l.kt)("p",{parentName:"admonition"},"\u5b98\u65b9\u5efa\u8bae\uff0c\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"checkpoint()")," \u524d\u6700\u597d\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"cache()")," \u7f13\u5b58\u8ba1\u7b97\u7ed3\u679c\uff0c\u4ee5\u907f\u514d\u68c0\u67e5\u70b9\u5b58\u50a8\u5feb\u7167\u65f6\u53d1\u751f\u91cd\u590d\u8ba1\u7b97\u3002")),(0,l.kt)("p",null,"\u5f53\u6211\u4eec\u9700\u8981\u590d\u7528\u4e4b\u524d\u7684\u8ba1\u7b97\u7ed3\u679c\u65f6\uff0c\u53ef\u4ee5\u628a\u68c0\u67e5\u70b9\u4fdd\u5b58\u8def\u5f84\u5f53\u4f5c\u6570\u636e\u6e90\u6765\u8bfb\u53d6 ",(0,l.kt)("inlineCode",{parentName:"p"},"rdd")," \u7684\u8ba1\u7b97\u7ed3\u679c\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-scala"},'object CheckpointReadApp {\n\n  def main(args: Array[String]): Unit = {\n\n    val conf: SparkConf = new SparkConf().setMaster("local").setAppName("Checkpoint Read App")\n\n    val sc: SparkContext = new SparkContext(conf)\n\n    val wordMap: RDD[(String, Int)] =\n      CheckpointRecover.recover(sc, "E:\\\\project\\\\scala\\\\spark-study\\\\checkpoint\\\\4c2a4f90-acbd-4c66-a956-1221d57e8472\\\\rdd-3")\n\n    val results: RDD[(String, Int)] = wordMap.reduceByKey(_ + _)\n\n    results.collect().foreach(result => println(result))\n\n  }\n  \n}\n\nobject CheckpointRecover {\n\n  def recover[T: ClassTag](sc: SparkContext, path: String): RDD[T] = {\n    sc.checkpointFile[T](path)\n  }\n\n}\n\n')),(0,l.kt)("admonition",{type:"danger"},(0,l.kt)("p",{parentName:"admonition"},"\u56e0\u4e3a SparkContext \u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"checkpointFile")," \u65b9\u6cd5\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"protected")," \u7ea7\u522b\u7684\uff0c\u6240\u4ee5\u793a\u4f8b\u4e2d\u7684 CheckpointRecover \u9700\u8981\u521b\u5efa\u5728\u5305\u8def\u5f84 ",(0,l.kt)("inlineCode",{parentName:"p"},"org.apache.spark")," \u4e0b\u3002")),(0,l.kt)("p",null,"\u901a\u8fc7\u6700\u7ec8\u7684\u8ba1\u7b97\u7ed3\u679c\u53ef\u4ee5\u770b\u51fa\uff0c\u68c0\u67e5\u70b9\u673a\u5236\u786e\u5b9e\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u4fdd\u5b58\u4e4b\u524d\u7684\u4e2d\u95f4\u7ed3\u679c\uff0c\u5e76\u5728\u4e4b\u540e\u7684\u4f5c\u4e1a\u4e2d\u590d\u7528\u5b83\uff0c\u4ee5\u907f\u514d\u91cd\u590d\u8ba1\u7b97\u7684\u53d1\u751f\uff0c\u8fdb\u800c\u8282\u7ea6\u8ba1\u7b97\u8d44\u6e90\u3002"),(0,l.kt)("p",null,"\u8fd9\u6837\u770b\u6765\uff0c\u68c0\u67e5\u70b9\u673a\u5236\u597d\u50cf\u662f\u4e00\u4e2a\u975e\u5e38\u597d\u7684\u7279\u6027\uff0c\u4f46\u5b9e\u9645\u5de5\u4f5c\u4e2d\uff0c\u8fd8\u9700\u8981\u8003\u8651\u5230\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u68c0\u67e5\u70b9\u7684\u4fdd\u5b58\u9700\u8981\u5360\u7528\u5b58\u50a8\u8d44\u6e90"),(0,l.kt)("li",{parentName:"ul"},"\u68c0\u67e5\u70b9\u5199\u51fa\u65f6\u9700\u8981\u91cd\u590d\u8c03\u5ea6\u8ba1\u7b97\u4efb\u52a1\uff0c\u5c3d\u7ba1\u53ef\u4ee5\u4e8b\u5148\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"cache()")," \u89c4\u907f\u91cd\u590d\u8ba1\u7b97\uff0c\u4f46\u4efb\u52a1\u8c03\u5ea6\u8fc7\u7a0b\u8fd8\u662f\u65e0\u6cd5\u89c4\u907f\u7684")),(0,l.kt)("p",null,"\u5728\u8fd9\u4e9b\u56e0\u7d20\u4e0b\uff0c\u201c\u907f\u514d\u91cd\u590d\u8ba1\u7b97\u201d\u6240\u8282\u7ea6\u7684\u8d44\u6e90\u662f\u5426\u80fd\u5927\u4e8e\u68c0\u67e5\u70b9\u673a\u5236\u81ea\u8eab\u8017\u8d39\u7684\u8d44\u6e90\uff0c\u53ef\u4ee5\u8bf4\u662f\u4e00\u4e2a\u672a\u77e5\u6570\u3002\u5bf9\u4e8e\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u6ca1\u6709\u6807\u51c6\u7b54\u6848\uff0c\u53ea\u80fd\u57fa\u4e8e\u81ea\u8eab\u7684\u4e1a\u52a1\u60c5\u51b5\u548c\u673a\u5668\u8d44\u6e90\uff0c\u53bb\u5bfb\u627e\u6700\u4f18\u89e3\u3002"))}o.isMDXComponent=!0},596:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/aggre-d10532265a44b40e0ab3587a9de9cade.svg"},7869:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/cache-be38ab2de169825ffe55789741ba645b.svg"},4584:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/checkpoint-3600f69c6aaaa8bbf94c2dd7990890be.svg"},8293:(t,e,a)=>{a.d(e,{Z:()=>n});const n="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIxNzI1cHgiIGhlaWdodD0iMTY0cHgiIHZpZXdCb3g9Ii0wLjUgLTAuNSAxNzI1IDE2NCIgY29udGVudD0iJmx0O214ZmlsZSBzY2FsZT0mcXVvdDsyJnF1b3Q7IGJvcmRlcj0mcXVvdDszMCZxdW90OyZndDsmbHQ7ZGlhZ3JhbSBpZD0mcXVvdDswUWh0d3FNanBtY19BTy1NclJiNCZxdW90OyBuYW1lPSZxdW90O+esrCAxIOmhtSZxdW90OyZndDs3VmxOYzVzd0VQMDFubWtQeVFnRUdCOFRPMjR1YVR0Tlpwb2VaWkJCRTRHb0xNZDJmMzBsV0JrSU9FbGJ4K05Pek1IV1B1MmlqN2VyQi9ZQWo3UDFKMG1LOUViRWxBOWNGSzhIZURKd1hjZjFYZjFsa0UyRkRKMVJCU1NTeGVCVUE3ZnNGd1VRQWJwa01WMjBISlVRWExHaURVWWl6Mm1rV2hpUlVxemFiblBCMjZNV0pLRWQ0RFlpdkl0K1o3RktBUTE4cis2NHBpeEpZV2dYNDZEcXlZajFocVVzVWhLTFZRUENWd004bGtLb3FwV3R4NVNiM2JNYlU4Vk5kL1J1WnlacHJsNFQ0QTZIVmNnajRVdFlIc3hNYmV4NnBWam1NVFVSemdCZnJsS202RzFCSXRPNzBneHJMRlVaaCs2NXlOV1VaSXdiY3U5SUtqSUNLQkRwdUdDUEJSZXlIQUZqejNkOXJQR0ZrdUpodTZ1bEorTzg0WGsxbWJwVGIrdHBlM0tSNjN0ZkVobkJLRDdTSml5TlNrWFhPemZJMlc2N1RsZ3FNcXJrUnJ0QVFHQ1pnbHpGbzNNOFJJM0xyN3BYZFNLNEdFTFNSZzc0Z0JISXZXUTdVczJPYmdCQk84Z2FPUjF1YUt4VEUwd2hWU29Ta1JOK1ZhTk5idWlhcVh2ZFJ0RCtZZHJuUGxpVGRhTnJzckZHcm1kNWIyOWdqRWFVTWV1dzBxcmo0Z3RUYTlxY2NSRTlWTkNVY1R1Wk5vR2EybEY1YldrekszdWVOTDBSWWlramFsTTVoTE9BeUlUYTBndFJQNzJTY3FMWVkzdUVmeUxIRHQrcXBJQXJ5UGJ5UExKckRYNHVUWVhybGVKNWVUVWhOQ2V3Sm90ZFUvNUlGWXRJeTYzT0FndHlsdE16bTNVWDJzVkJldmwrTXlwSXpIZE05VkVKazlNTHErWlhkUjExOVQveGZQdnF4KzNxOTE2dS9xQ24rUEUraW44NCtxdjhnaTNycE1BTktiNFNxWmhpSWw5OG0weGVtdzU2TTFXYjgxNHVtc1JaZWpoTGNtMXlPamQzTU1Ub2xPWVhBR2NzanNzRHF5L0Y2aVJFTnA5Z1NzNGVhQjZpTnMyKzl5TE5qdGZEczdzUG5rTjBVdVRueU1MQk1Ta3k2bkJ6VXVTdElvZjI2YnlseVBoUWlteUhQNVFpVnllbWpPT1R0TDZpaklmSEk2Mmh1ek5SRmdYSmU1KzFJSFhNVTVaTVpoL01PNjJlaWg0TGhZMG0vdGhOa0M4NXZSUDZZMElMWFg4MGp6YU5mS25HZTBmYTYzbkhwTDM0cEwzUGtlV2dIdTA5cE54MjZUakpiUzIzWHAvY2hnZVRXKyt3Y250NkFUNUF3VHRIcE5MK1c2cDB0V0hJU093WnFLV0ppdlJHVWRsTm9Hc1NDMUcwMzV2Zm5YWTc0VEZwOSs3ZjMyWTFLeFhBTFBDWjhRYUI3S21meG1iL3hibHc2QWVCUC85VjNOL1BNNEUyNjM5SHlyN0duMHo0NmpjPSZsdDsvZGlhZ3JhbSZndDsmbHQ7L214ZmlsZSZndDsiPjxkZWZzLz48Zz48cmVjdCB4PSIxMjMyIiB5PSIzMC43NCIgd2lkdGg9IjQ2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1MCIgcnk9IjUwIiBmaWxsPSIjZWRmMmY0IiBzdHJva2U9Im5vbmUiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48cGF0aCBkPSJNIDEyNTIgODAuNzQgTCAxMTg4LjI0IDgwLjc0IiBmaWxsPSJub25lIiBzdHJva2U9IiM5OTk5OTkiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ic3Ryb2tlIi8+PHBhdGggZD0iTSAxMTc0LjI0IDgwLjc0IEwgMTE4OC4yNCA3My43NCBMIDExODguMjQgODcuNzQgWiIgZmlsbD0iIzk5OTk5OSIgc3Ryb2tlPSIjOTk5OTk5IiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxyZWN0IHg9IjEyNTIiIHk9IjUwLjc0IiB3aWR0aD0iMTIwIiBoZWlnaHQ9IjYwIiByeD0iMzAiIHJ5PSIzMCIgZmlsbD0iIzM0NTI1MyIgc3Ryb2tlPSJub25lIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNSAtMC41KXNjYWxlKDIpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgY2VudGVyOyB3aWR0aDogNThweDsgaGVpZ2h0OiAxcHg7IHBhZGRpbmctdG9wOiA0MHB4OyBtYXJnaW4tbGVmdDogNjI3cHg7Ij48ZGl2IHN0eWxlPSJib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXNpemU6IDA7IHRleHQtYWxpZ246IGNlbnRlcjsgIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IFRhaG9tYTsgY29sb3I6ICMzNDUyNTM7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IHdoaXRlLXNwYWNlOiBub3JtYWw7IHdvcmQtd3JhcDogbm9ybWFsOyAiPjxmb250IGNvbG9yPSIjZmZmZmZmIiBmYWNlPSJIZWx2ZXRpY2EiIHN0eWxlPSJsaW5lLWhlaWdodDogMTAwJSI+ZGVwczwvZm9udD48L2Rpdj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNjU2IiB5PSI0NCIgZmlsbD0iIzM0NTI1MyIgZm9udC1mYW1pbHk9IlRhaG9tYSIgZm9udC1zaXplPSIxMnB4IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5kZXBzPC90ZXh0Pjwvc3dpdGNoPjwvZz48cmVjdCB4PSIxMzkyIiB5PSI2MC43NCIgd2lkdGg9IjI4MCIgaGVpZ2h0PSI0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNSAtMC41KXNjYWxlKDIpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgZmxleC1zdGFydDsgd2lkdGg6IDEzOHB4OyBoZWlnaHQ6IDFweDsgcGFkZGluZy10b3A6IDQwcHg7IG1hcmdpbi1sZWZ0OiA2OThweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogbGVmdDsgIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6ICMwMDAwMDA7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IGZvbnQtd2VpZ2h0OiBib2xkOyB3aGl0ZS1zcGFjZTogbm9ybWFsOyB3b3JkLXdyYXA6IG5vcm1hbDsgIj48Zm9udCBjb2xvcj0iIzM0NTI1MyI+TWFwUGFydGl0aW9uc1JERDwvZm9udD48L2Rpdj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iNjk4IiB5PSI0NCIgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9IkhlbHZldGljYSIgZm9udC1zaXplPSIxMnB4IiBmb250LXdlaWdodD0iYm9sZCI+TWFwUGFydGl0aW9uc1JERDwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iNzEyIiB5PSIzMC43NCIgd2lkdGg9IjQ2MCIgaGVpZ2h0PSIxMDAiIHJ4PSI1MCIgcnk9IjUwIiBmaWxsPSIjZWRmMmY0IiBzdHJva2U9Im5vbmUiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48cGF0aCBkPSJNIDczMiA4MC43NCBMIDY2OC4yNCA4MC43NCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjOTk5OTk5IiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9InN0cm9rZSIvPjxwYXRoIGQ9Ik0gNjU0LjI0IDgwLjc0IEwgNjY4LjI0IDczLjc0IEwgNjY4LjI0IDg3Ljc0IFoiIGZpbGw9IiM5OTk5OTkiIHN0cm9rZT0iIzk5OTk5OSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJhbGwiLz48cmVjdCB4PSI3MzIiIHk9IjUwLjc0IiB3aWR0aD0iMTIwIiBoZWlnaHQ9IjYwIiByeD0iMzAiIHJ5PSIzMCIgZmlsbD0iIzM0NTI1MyIgc3Ryb2tlPSJub25lIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNSAtMC41KXNjYWxlKDIpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgY2VudGVyOyB3aWR0aDogNThweDsgaGVpZ2h0OiAxcHg7IHBhZGRpbmctdG9wOiA0MHB4OyBtYXJnaW4tbGVmdDogMzY3cHg7Ij48ZGl2IHN0eWxlPSJib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXNpemU6IDA7IHRleHQtYWxpZ246IGNlbnRlcjsgIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IFRhaG9tYTsgY29sb3I6ICMzNDUyNTM7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IHdoaXRlLXNwYWNlOiBub3JtYWw7IHdvcmQtd3JhcDogbm9ybWFsOyAiPjxmb250IGNvbG9yPSIjZmZmZmZmIiBmYWNlPSJIZWx2ZXRpY2EiPnJkZDwvZm9udD48L2Rpdj48L2Rpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PHRleHQgeD0iMzk2IiB5PSI0NCIgZmlsbD0iIzM0NTI1MyIgZm9udC1mYW1pbHk9IlRhaG9tYSIgZm9udC1zaXplPSIxMnB4IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5yZGQ8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9Ijg3MiIgeT0iNjAuNzQiIHdpZHRoPSIyODAiIGhlaWdodD0iNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjUgLTAuNSlzY2FsZSgyKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6IHZpc2libGU7IHRleHQtYWxpZ246IGxlZnQ7IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IHVuc2FmZSBjZW50ZXI7IGp1c3RpZnktY29udGVudDogdW5zYWZlIGZsZXgtc3RhcnQ7IHdpZHRoOiAxMzhweDsgaGVpZ2h0OiAxcHg7IHBhZGRpbmctdG9wOiA0MHB4OyBtYXJnaW4tbGVmdDogNDM4cHg7Ij48ZGl2IHN0eWxlPSJib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXNpemU6IDA7IHRleHQtYWxpZ246IGxlZnQ7ICI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7IGNvbG9yOiAjMDAwMDAwOyBsaW5lLWhlaWdodDogMS4yOyBwb2ludGVyLWV2ZW50czogYWxsOyBmb250LXdlaWdodDogYm9sZDsgd2hpdGUtc3BhY2U6IG5vcm1hbDsgd29yZC13cmFwOiBub3JtYWw7ICI+PHNwYW4gc3R5bGU9ImNvbG9yOiByZ2IoNTIgLCA4MiAsIDgzKSI+T25lVG9PbmVEZXBlbmRlbmN5PC9zcGFuPjwvZGl2PjwvZGl2PjwvZGl2PjwvZm9yZWlnbk9iamVjdD48dGV4dCB4PSI0MzgiIHk9IjQ0IiBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0iSGVsdmV0aWNhIiBmb250LXNpemU9IjEycHgiIGZvbnQtd2VpZ2h0PSJib2xkIj5PbmVUb09uZURlcGVuZGVuY3k8L3RleHQ+PC9zd2l0Y2g+PC9nPjxyZWN0IHg9IjE5MiIgeT0iMzAuNzQiIHdpZHRoPSI0NjAiIGhlaWdodD0iMTAwIiByeD0iNTAiIHJ5PSI1MCIgZmlsbD0iI2VkZjJmNCIgc3Ryb2tlPSJub25lIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PHBhdGggZD0iTSAyMTIgODAuNzQgTCAxNDguMjQgODAuNzQiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzk5OTk5OSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJzdHJva2UiLz48cGF0aCBkPSJNIDEzNC4yNCA4MC43NCBMIDE0OC4yNCA3My43NCBMIDE0OC4yNCA4Ny43NCBaIiBmaWxsPSIjOTk5OTk5IiBzdHJva2U9IiM5OTk5OTkiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PHJlY3QgeD0iMjEyIiB5PSI1MC43NCIgd2lkdGg9IjEyMCIgaGVpZ2h0PSI2MCIgcng9IjMwIiByeT0iMzAiIGZpbGw9IiMzNDUyNTMiIHN0cm9rZT0ibm9uZSIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjUgLTAuNSlzY2FsZSgyKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6IHZpc2libGU7IHRleHQtYWxpZ246IGxlZnQ7IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IHVuc2FmZSBjZW50ZXI7IGp1c3RpZnktY29udGVudDogdW5zYWZlIGNlbnRlcjsgd2lkdGg6IDU4cHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogNDBweDsgbWFyZ2luLWxlZnQ6IDEwN3B4OyI+PGRpdiBzdHlsZT0iYm94LXNpemluZzogYm9yZGVyLWJveDsgZm9udC1zaXplOiAwOyB0ZXh0LWFsaWduOiBjZW50ZXI7ICI+PGRpdiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEycHg7IGZvbnQtZmFtaWx5OiBUYWhvbWE7IGNvbG9yOiAjMzQ1MjUzOyBsaW5lLWhlaWdodDogMS4yOyBwb2ludGVyLWV2ZW50czogYWxsOyB3aGl0ZS1zcGFjZTogbm9ybWFsOyB3b3JkLXdyYXA6IG5vcm1hbDsgIj48Zm9udCBjb2xvcj0iI2ZmZmZmZiIgZmFjZT0iSGVsdmV0aWNhIiBzdHlsZT0ibGluZS1oZWlnaHQ6IDEwMCUiPmRlcHM8L2ZvbnQ+PC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjEzNiIgeT0iNDQiIGZpbGw9IiMzNDUyNTMiIGZvbnQtZmFtaWx5PSJUYWhvbWEiIGZvbnQtc2l6ZT0iMTJweCIgdGV4dC1hbmNob3I9Im1pZGRsZSI+ZGVwczwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMzUyIiB5PSI2MC43NCIgd2lkdGg9IjI4MCIgaGVpZ2h0PSI0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBwb2ludGVyLWV2ZW50cz0iYWxsIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTAuNSAtMC41KXNjYWxlKDIpIj48c3dpdGNoPjxmb3JlaWduT2JqZWN0IHN0eWxlPSJvdmVyZmxvdzogdmlzaWJsZTsgdGV4dC1hbGlnbjogbGVmdDsiIHBvaW50ZXItZXZlbnRzPSJub25lIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiByZXF1aXJlZEZlYXR1cmVzPSJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiPjxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogdW5zYWZlIGNlbnRlcjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgZmxleC1zdGFydDsgd2lkdGg6IDEzOHB4OyBoZWlnaHQ6IDFweDsgcGFkZGluZy10b3A6IDQwcHg7IG1hcmdpbi1sZWZ0OiAxNzhweDsiPjxkaXYgc3R5bGU9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogbGVmdDsgIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IEhlbHZldGljYTsgY29sb3I6ICMwMDAwMDA7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IGZvbnQtd2VpZ2h0OiBib2xkOyB3aGl0ZS1zcGFjZTogbm9ybWFsOyB3b3JkLXdyYXA6IG5vcm1hbDsgIj48c3BhbiBzdHlsZT0iY29sb3I6IHJnYig1MiAsIDgyICwgODMpIDsgdGV4dC1hbGlnbjogY2VudGVyIj5IYWRvb3BSREQ8L3NwYW4+PC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjE3OCIgeT0iNDQiIGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJIZWx2ZXRpY2EiIGZvbnQtc2l6ZT0iMTJweCIgZm9udC13ZWlnaHQ9ImJvbGQiPkhhZG9vcFJERDwvdGV4dD48L3N3aXRjaD48L2c+PHJlY3QgeD0iMzIiIHk9IjMwLjc0IiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgcng9IjUwIiByeT0iNTAiIGZpbGw9IiNlZGYyZjQiIHN0cm9rZT0ibm9uZSIgcG9pbnRlci1ldmVudHM9ImFsbCIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0wLjUgLTAuNSlzY2FsZSgyKSI+PHN3aXRjaD48Zm9yZWlnbk9iamVjdCBzdHlsZT0ib3ZlcmZsb3c6IHZpc2libGU7IHRleHQtYWxpZ246IGxlZnQ7IiBwb2ludGVyLWV2ZW50cz0ibm9uZSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgcmVxdWlyZWRGZWF0dXJlcz0iaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5Ij48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IHVuc2FmZSBjZW50ZXI7IGp1c3RpZnktY29udGVudDogdW5zYWZlIGNlbnRlcjsgd2lkdGg6IDQ4cHg7IGhlaWdodDogMXB4OyBwYWRkaW5nLXRvcDogNDBweDsgbWFyZ2luLWxlZnQ6IDE3cHg7Ij48ZGl2IHN0eWxlPSJib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXNpemU6IDA7IHRleHQtYWxpZ246IGNlbnRlcjsgIj48ZGl2IHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogMTJweDsgZm9udC1mYW1pbHk6IFRhaG9tYTsgY29sb3I6ICMzNDUyNTM7IGxpbmUtaGVpZ2h0OiAxLjI7IHBvaW50ZXItZXZlbnRzOiBhbGw7IHdoaXRlLXNwYWNlOiBub3JtYWw7IHdvcmQtd3JhcDogbm9ybWFsOyAiPjxiPjxpPk5pbDwvaT48L2I+PC9kaXY+PC9kaXY+PC9kaXY+PC9mb3JlaWduT2JqZWN0Pjx0ZXh0IHg9IjQxIiB5PSI0NCIgZmlsbD0iIzM0NTI1MyIgZm9udC1mYW1pbHk9IlRhaG9tYSIgZm9udC1zaXplPSIxMnB4IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5OaWw8L3RleHQ+PC9zd2l0Y2g+PC9nPjwvZz48c3dpdGNoPjxnIHJlcXVpcmVkRmVhdHVyZXM9Imh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSIvPjxhIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTUpIiB4bGluazpocmVmPSJodHRwczovL3d3dy5kaWFncmFtcy5uZXQvZG9jL2ZhcS9zdmctZXhwb3J0LXRleHQtcHJvYmxlbXMiIHRhcmdldD0iX2JsYW5rIj48dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjEwcHgiIHg9IjUwJSIgeT0iMTAwJSI+Vmlld2VyIGRvZXMgbm90IHN1cHBvcnQgZnVsbCBTVkcgMS4xPC90ZXh0PjwvYT48L3N3aXRjaD48L3N2Zz4="},7156:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/lineage-5e980c3ac6ec7d1daa2802cf7d23efd6.svg"},7553:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/narrow-c10c7926e6332e3901a31171ba39fccb.svg"},3817:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/persist-614a0394c044daea0faf90a3a13cd164.svg"},9397:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/split-312de5179bcec7c62667bed3037c4b1d.svg"},6395:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/transform-0dd0ec352696158a0266eeebb8ef10cc.svg"},8890:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/wide-25b96fe616041692d8e550a342a183d0.svg"}}]);